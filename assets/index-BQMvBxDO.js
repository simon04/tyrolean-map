(function(){let e=document.createElement(`link`).relList;if(e&&e.supports&&e.supports(`modulepreload`))return;for(let e of document.querySelectorAll(`link[rel="modulepreload"]`))n(e);new MutationObserver(e=>{for(let t of e){if(t.type!==`childList`)continue;for(let e of t.addedNodes)e.tagName===`LINK`&&e.rel===`modulepreload`&&n(e)}}).observe(document,{childList:!0,subtree:!0});function t(e){let t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin===`use-credentials`?t.credentials=`include`:e.crossOrigin===`anonymous`?t.credentials=`omit`:t.credentials=`same-origin`,t}function n(e){if(e.ep)return;e.ep=!0;let n=t(e);fetch(e.href,n)}})();
/* @preserve
* Leaflet 2.0.0-alpha.1, a JS library for interactive maps. https://leafletjs.com
* (c) 2010-2025 Volodymyr Agafonkin, (c) 2010-2011 CloudMade
*/
let e=0;function t(t){return`_leaflet_id`in t||(t._leaflet_id=++e),t._leaflet_id}function n(e,t,n){let r,i;function a(){r=!1,i&&(o.apply(n,i),i=!1)}function o(...o){r?i=o:(e.apply(n,o),setTimeout(a,t),r=!0)}return o}function r(e,t,n){let r=t[1],i=t[0],a=r-i;return e===r&&n?e:((e-i)%a+a)%a+i}function i(){return!1}function a(e,t){if(t===!1)return e;let n=10**(t===void 0?6:t);return Math.round(e*n)/n}function o(e){return e.trim().split(/\s+/)}function s(e,t){for(let n in Object.hasOwn(e,`options`)||(e.options=e.options?Object.create(e.options):{}),t)Object.hasOwn(t,n)&&(e.options[n]=t[n]);return e.options}const c=/\{ *([\w_ -]+) *\}/g;function l(e,t){return e.replace(c,(e,n)=>{let r=t[n];if(r===void 0)throw Error(`No value provided for variable ${e}`);return typeof r==`function`&&(r=r(t)),r})}const u=`data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=`;var d={__proto__:null,emptyImageUrl:u,falseFn:i,formatNum:a,get lastId(){return e},setOptions:s,splitWords:o,stamp:t,template:l,throttle:n,wrapNum:r},f=class{static extend({statics:e,includes:t,...n}){let r=class extends this{};Object.setPrototypeOf(r,this);let i=this.prototype,a=r.prototype;if(e&&Object.assign(r,e),Array.isArray(t))for(let e of t)Object.assign(a,e);else t&&Object.assign(a,t);return Object.assign(a,n),a.options&&(a.options=i.options?Object.create(i.options):{},Object.assign(a.options,n.options)),a._initHooks=[],r}static include(e){let t=this.prototype.options;return Object.assign(this.prototype,e),e.options&&(this.prototype.options=t,this.mergeOptions(e.options)),this}static setDefaultOptions(e){return s(this.prototype,e),this}static mergeOptions(e){return this.prototype.options??={},Object.assign(this.prototype.options,e),this}static addInitHook(e,...t){let n=typeof e==`function`?e:function(){this[e].apply(this,t)};return this.prototype._initHooks??=[],this.prototype._initHooks.push(n),this}constructor(...e){this._initHooksCalled=!1,s(this),this.initialize&&this.initialize(...e),this.callInitHooks()}initialize(){}callInitHooks(){if(this._initHooksCalled)return;let e=[],t=this;for(;(t=Object.getPrototypeOf(t))!==null;)e.push(t);e.reverse();for(let t of e)for(let e of t._initHooks??[])e.call(this);this._initHooksCalled=!0}},p=class extends f{on(e,t,n){if(typeof e==`object`)for(let[n,r]of Object.entries(e))this._on(n,r,t);else for(let r of o(e))this._on(r,t,n);return this}off(e,t,n){if(!arguments.length)delete this._events;else if(typeof e==`object`)for(let[n,r]of Object.entries(e))this._off(n,r,t);else{let r=arguments.length===1;for(let i of o(e))r?this._off(i):this._off(i,t,n)}return this}_on(e,t,n,r){if(typeof t!=`function`){console.warn(`wrong listener type: ${typeof t}`);return}if(this._listens(e,t,n)!==!1)return;n===this&&(n=void 0);let i={fn:t,ctx:n};r&&(i.once=!0),this._events??={},this._events[e]??=[],this._events[e].push(i)}_off(e,t,n){if(!this._events)return;let r=this._events[e];if(!r)return;if(arguments.length===1){if(this._firingCount)for(let e of r)e.fn=i;delete this._events[e];return}if(typeof t!=`function`){console.warn(`wrong listener type: ${typeof t}`);return}let a=this._listens(e,t,n);if(a!==!1){let t=r[a];this._firingCount&&(t.fn=i,this._events[e]=r=r.slice()),r.splice(a,1)}}fire(e,t,n){if(!this.listens(e,n))return this;let r={...t,type:e,target:this,sourceTarget:t?.sourceTarget||this};if(this._events){let t=this._events[e];if(t){this._firingCount=this._firingCount+1||1;for(let n of t){let t=n.fn;n.once&&this.off(e,t,n.ctx),t.call(n.ctx||this,r)}this._firingCount--}}return n&&this._propagateEvent(r),this}listens(e,t,n,r){typeof e!=`string`&&console.warn(`"string" type argument expected`);let i=t;if(typeof t!=`function`&&(r=!!t,i=void 0,n=void 0),this._events?.[e]?.length&&this._listens(e,i,n)!==!1)return!0;if(r){for(let i of Object.values(this._eventParents??{}))if(i.listens(e,t,n,r))return!0}return!1}_listens(e,t,n){if(!this._events)return!1;let r=this._events[e]??[];if(!t)return!!r.length;n===this&&(n=void 0);let i=r.findIndex(e=>e.fn===t&&e.ctx===n);return i===-1?!1:i}once(e,t,n){if(typeof e==`object`)for(let[n,r]of Object.entries(e))this._on(n,r,t,!0);else for(let r of o(e))this._on(r,t,n,!0);return this}addEventParent(e){return this._eventParents??={},this._eventParents[t(e)]=e,this}removeEventParent(e){return this._eventParents&&delete this._eventParents[t(e)],this}_propagateEvent(e){for(let t of Object.values(this._eventParents??{}))t.fire(e.type,{propagatedFrom:e.target,...e},!0)}},m=class e{constructor(t,n,r){let i=e.validate(t,n);if(!i)throw Error(`Invalid Point object: (${t}, ${n})`);let a,o;if(t instanceof e)return t;Array.isArray(t)?(a=t[0],o=t[1]):typeof t==`object`&&`x`in t&&`y`in t?(a=t.x,o=t.y):(a=t,o=n),this.x=r?Math.round(a):a,this.y=r?Math.round(o):o}static validate(t,n){return t instanceof e||Array.isArray(t)||t&&typeof t==`object`&&`x`in t&&`y`in t?!0:!!((t||t===0)&&(n||n===0))}clone(){let t=new e(0,0);return t.x=this.x,t.y=this.y,t}add(t){return this.clone()._add(new e(t))}_add(e){return this.x+=e.x,this.y+=e.y,this}subtract(t){return this.clone()._subtract(new e(t))}_subtract(e){return this.x-=e.x,this.y-=e.y,this}divideBy(e){return this.clone()._divideBy(e)}_divideBy(e){return this.x/=e,this.y/=e,this}multiplyBy(e){return this.clone()._multiplyBy(e)}_multiplyBy(e){return this.x*=e,this.y*=e,this}scaleBy(t){return new e(this.x*t.x,this.y*t.y)}unscaleBy(t){return new e(this.x/t.x,this.y/t.y)}round(){return this.clone()._round()}_round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}floor(){return this.clone()._floor()}_floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.clone()._ceil()}_ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}trunc(){return this.clone()._trunc()}_trunc(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}distanceTo(t){t=new e(t);let n=t.x-this.x,r=t.y-this.y;return Math.sqrt(n*n+r*r)}equals(t){return t=new e(t),t.x===this.x&&t.y===this.y}contains(t){return t=new e(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)}toString(){return`Point(${a(this.x)}, ${a(this.y)})`}},h=class e{constructor(t,n){if(!t)return;if(t instanceof e)return t;let r=n?[t,n]:t;for(let e of r)this.extend(e)}extend(t){let n,r;if(!t)return this;if(t instanceof m||typeof t[0]==`number`||`x`in t)n=r=new m(t);else if(t=new e(t),n=t.min,r=t.max,!n||!r)return this;return!this.min&&!this.max?(this.min=n.clone(),this.max=r.clone()):(this.min.x=Math.min(n.x,this.min.x),this.max.x=Math.max(r.x,this.max.x),this.min.y=Math.min(n.y,this.min.y),this.max.y=Math.max(r.y,this.max.y)),this}getCenter(e){return new m((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)}getBottomLeft(){return new m(this.min.x,this.max.y)}getTopRight(){return new m(this.max.x,this.min.y)}getTopLeft(){return this.min}getBottomRight(){return this.max}getSize(){return this.max.subtract(this.min)}contains(t){let n,r;return t=typeof t[0]==`number`||t instanceof m?new m(t):new e(t),t instanceof e?(n=t.min,r=t.max):n=r=t,n.x>=this.min.x&&r.x<=this.max.x&&n.y>=this.min.y&&r.y<=this.max.y}intersects(t){t=new e(t);let n=this.min,r=this.max,i=t.min,a=t.max,o=a.x>=n.x&&i.x<=r.x,s=a.y>=n.y&&i.y<=r.y;return o&&s}overlaps(t){t=new e(t);let n=this.min,r=this.max,i=t.min,a=t.max,o=a.x>n.x&&i.x<r.x,s=a.y>n.y&&i.y<r.y;return o&&s}isValid(){return!!(this.min&&this.max)}pad(t){let n=this.min,r=this.max,i=Math.abs(n.x-r.x)*t,a=Math.abs(n.y-r.y)*t;return new e(new m(n.x-i,n.y-a),new m(r.x+i,r.y+a))}equals(t){return t?(t=new e(t),this.min.equals(t.getTopLeft())&&this.max.equals(t.getBottomRight())):!1}},g=class e{constructor(t,n){if(!t)return;if(t instanceof e)return t;let r=n?[t,n]:t;for(let e of r)this.extend(e)}extend(t){let n=this._southWest,r=this._northEast,i,a;if(t instanceof _)i=t,a=t;else if(t instanceof e){if(i=t._southWest,a=t._northEast,!i||!a)return this}else return t?_.validate(t)?this.extend(new _(t)):this.extend(new e(t)):this;return!n&&!r?(this._southWest=new _(i.lat,i.lng),this._northEast=new _(a.lat,a.lng)):(n.lat=Math.min(i.lat,n.lat),n.lng=Math.min(i.lng,n.lng),r.lat=Math.max(a.lat,r.lat),r.lng=Math.max(a.lng,r.lng)),this}pad(t){let n=this._southWest,r=this._northEast,i=Math.abs(n.lat-r.lat)*t,a=Math.abs(n.lng-r.lng)*t;return new e(new _(n.lat-i,n.lng-a),new _(r.lat+i,r.lng+a))}getCenter(){return new _((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)}getSouthWest(){return this._southWest}getNorthEast(){return this._northEast}getNorthWest(){return new _(this.getNorth(),this.getWest())}getSouthEast(){return new _(this.getSouth(),this.getEast())}getWest(){return this._southWest.lng}getSouth(){return this._southWest.lat}getEast(){return this._northEast.lng}getNorth(){return this._northEast.lat}contains(t){t=_.validate(t)?new _(t):new e(t);let n=this._southWest,r=this._northEast,i,a;return t instanceof e?(i=t.getSouthWest(),a=t.getNorthEast()):i=a=t,i.lat>=n.lat&&a.lat<=r.lat&&i.lng>=n.lng&&a.lng<=r.lng}intersects(t){t=new e(t);let n=this._southWest,r=this._northEast,i=t.getSouthWest(),a=t.getNorthEast(),o=a.lat>=n.lat&&i.lat<=r.lat,s=a.lng>=n.lng&&i.lng<=r.lng;return o&&s}overlaps(t){t=new e(t);let n=this._southWest,r=this._northEast,i=t.getSouthWest(),a=t.getNorthEast(),o=a.lat>n.lat&&i.lat<r.lat,s=a.lng>n.lng&&i.lng<r.lng;return o&&s}toBBoxString(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(`,`)}equals(t,n){return t?(t=new e(t),this._southWest.equals(t.getSouthWest(),n)&&this._northEast.equals(t.getNorthEast(),n)):!1}isValid(){return!!(this._southWest&&this._northEast)}},_=class e{constructor(t,n,r){let i=e.validate(t,n,r);if(!i)throw Error(`Invalid LatLng object: (${t}, ${n})`);let a,o,s;if(t instanceof e)return t;Array.isArray(t)&&typeof t[0]!=`object`?t.length===3?(a=t[0],o=t[1],s=t[2]):t.length===2&&(a=t[0],o=t[1]):typeof t==`object`&&`lat`in t?(a=t.lat,o=`lng`in t?t.lng:t.lon,s=t.alt):(a=t,o=n,s=r),this.lat=+a,this.lng=+o,s!==void 0&&(this.alt=+s)}static validate(t,n,r){return t instanceof e||typeof t==`object`&&`lat`in t?!0:t&&Array.isArray(t)&&typeof t[0]!=`object`?t.length===3||t.length===2:!!((t||t===0)&&(n||n===0))}equals(t,n){if(!t)return!1;t=new e(t);let r=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return r<=(n??1e-9)}toString(e){return`LatLng(${a(this.lat,e)}, ${a(this.lng,e)})`}distanceTo(t){return y.distance(this,new e(t))}wrap(){return y.wrapLatLng(this)}toBounds(e){let t=180*e/40075017,n=t/Math.cos(Math.PI/180*this.lat);return new g([this.lat-t,this.lng-n],[this.lat+t,this.lng+n])}clone(){let t=new e(0,0);return t.lat=this.lat,t.lng=this.lng,t.alt=this.alt,t}},v=class{static projection=void 0;static transformation=void 0;static latLngToPoint(e,t){let n=this.projection.project(e),r=this.scale(t);return this.transformation._transform(n,r)}static pointToLatLng(e,t){let n=this.scale(t),r=this.transformation.untransform(e,n);return this.projection.unproject(r)}static project(e){return this.projection.project(e)}static unproject(e){return this.projection.unproject(e)}static scale(e){return 256*2**e}static zoom(e){return Math.log(e/256)/Math.LN2}static getProjectedBounds(e){if(this.infinite)return null;let t=this.projection.bounds,n=this.scale(e),r=this.transformation.transform(t.min,n),i=this.transformation.transform(t.max,n);return new h(r,i)}static infinite=!1;static wrapLatLng(e){e=new _(e);let t=this.wrapLng?r(e.lng,this.wrapLng,!0):e.lng,n=this.wrapLat?r(e.lat,this.wrapLat,!0):e.lat,i=e.alt;return new _(n,t,i)}static wrapLatLngBounds(e){e=new g(e);let t=e.getCenter(),n=this.wrapLatLng(t),r=t.lat-n.lat,i=t.lng-n.lng;if(r===0&&i===0)return e;let a=e.getSouthWest(),o=e.getNorthEast(),s=new _(a.lat-r,a.lng-i),c=new _(o.lat-r,o.lng-i);return new g(s,c)}},y=class extends v{static wrapLng=[-180,180];static R=6371e3;static distance(e,t){let n=Math.PI/180,r=e.lat*n,i=t.lat*n,a=Math.sin((t.lat-e.lat)*n/2),o=Math.sin((t.lng-e.lng)*n/2),s=a*a+Math.cos(r)*Math.cos(i)*o*o,c=2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s));return this.R*c}};const ee=6378137,te={R:ee,MAX_LATITUDE:85.0511287798,project(e){e=new _(e);let t=Math.PI/180,n=this.MAX_LATITUDE,r=Math.max(Math.min(n,e.lat),-n),i=Math.sin(r*t);return new m(this.R*e.lng*t,this.R*Math.log((1+i)/(1-i))/2)},unproject(e){e=new m(e);let t=180/Math.PI;return new _((2*Math.atan(Math.exp(e.y/this.R))-Math.PI/2)*t,e.x*t/this.R)},bounds:(()=>{let e=ee*Math.PI;return new h([-e,-e],[e,e])})()};var b=class{constructor(e,t,n,r){if(Array.isArray(e)){this._a=e[0],this._b=e[1],this._c=e[2],this._d=e[3];return}this._a=e,this._b=t,this._c=n,this._d=r}transform(e,t){return this._transform(e.clone(),t)}_transform(e,t){return t||=1,e.x=t*(this._a*e.x+this._b),e.y=t*(this._c*e.y+this._d),e}untransform(e,t){return t||=1,new m((e.x/t-this._b)/this._a,(e.y/t-this._d)/this._c)}},ne=class extends y{static code=`EPSG:3857`;static projection=te;static transformation=(()=>{let e=.5/(Math.PI*te.R);return new b(e,.5,-e,.5)})()},re=class extends ne{static code=`EPSG:900913`};const ie=pe(`chrome`),ae=!ie&&pe(`safari`),oe=typeof orientation<`u`||pe(`mobile`),se=typeof window>`u`?!1:!!window.PointerEvent,ce=typeof window>`u`?!1:`ontouchstart`in window||!!window.TouchEvent,le=ce||se,ue=typeof window>`u`||window.devicePixelRatio===void 0?!1:window.devicePixelRatio>1,de=typeof navigator>`u`||navigator.platform===void 0?!1:navigator.platform.startsWith(`Mac`),fe=typeof navigator>`u`||navigator.platform===void 0?!1:navigator.platform.startsWith(`Linux`);function pe(e){return typeof navigator>`u`||navigator.userAgent===void 0?!1:navigator.userAgent.toLowerCase().includes(e)}var x={chrome:ie,safari:ae,mobile:oe,pointer:se,touch:le,touchNative:ce,retina:ue,mac:de,linux:fe};function me(e){let t={bubbles:e.bubbles,cancelable:e.cancelable,composed:e.composed,detail:2,view:e.view,screenX:e.screenX,screenY:e.screenY,clientX:e.clientX,clientY:e.clientY,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,altKey:e.altKey,metaKey:e.metaKey,button:e.button,buttons:e.buttons,relatedTarget:e.relatedTarget,region:e.region},n;return e instanceof PointerEvent?(t={...t,pointerId:e.pointerId,width:e.width,height:e.height,pressure:e.pressure,tangentialPressure:e.tangentialPressure,tiltX:e.tiltX,tiltY:e.tiltY,twist:e.twist,pointerType:e.pointerType,isPrimary:e.isPrimary},n=new PointerEvent(`dblclick`,t)):n=new MouseEvent(`dblclick`,t),n}const he=200;function ge(e,t){e.addEventListener(`dblclick`,t);let n=0,r;function i(e){if(e.detail!==1){r=e.detail;return}if(e.pointerType===`mouse`||e.sourceCapabilities&&!e.sourceCapabilities.firesTouchEvents)return;let t=Xe(e);if(t.some(e=>e instanceof HTMLLabelElement&&e.attributes.for)&&!t.some(e=>e instanceof HTMLInputElement||e instanceof HTMLSelectElement))return;let i=Date.now();i-n<=he?(r++,r===2&&e.target.dispatchEvent(me(e))):r=1,n=i}return e.addEventListener(`click`,i),{dblclick:t,simDblclick:i}}function _e(e,t){e.removeEventListener(`dblclick`,t.dblclick),e.removeEventListener(`click`,t.simDblclick)}function ve(e){return typeof e==`string`?document.getElementById(e):e}function S(e,t,n){let r=document.createElement(e);return r.className=t??``,n?.appendChild(r),r}function ye(e){let t=e.parentNode;t&&t.lastChild!==e&&t.appendChild(e)}function be(e){let t=e.parentNode;t&&t.firstChild!==e&&t.insertBefore(e,t.firstChild)}function C(e,t,n){let r=t??new m(0,0);e.style.transform=`translate3d(${r.x}px,${r.y}px,0)${n?` scale(${n})`:``}`}const xe=new WeakMap;function w(e,t){xe.set(e,t),C(e,t)}function T(e){return xe.get(e)??new m(0,0)}const Se=typeof document>`u`?{}:document.documentElement.style,Ce=[`userSelect`,`WebkitUserSelect`].find(e=>e in Se);let we;function Te(){let e=Se[Ce];e!==`none`&&(we=e,Se[Ce]=`none`)}function Ee(){we!==void 0&&(Se[Ce]=we,we=void 0)}function De(){O(window,`dragstart`,M)}function Oe(){A(window,`dragstart`,M)}let ke,Ae;function je(e){for(;e.tabIndex===-1;)e=e.parentNode;e.style&&(Me(),ke=e,Ae=e.style.outlineStyle,e.style.outlineStyle=`none`,O(window,`keydown`,Me))}function Me(){ke&&(ke.style.outlineStyle=Ae,ke=void 0,Ae=void 0,A(window,`keydown`,Me))}function Ne(e){do e=e.parentNode;while((!e.offsetWidth||!e.offsetHeight)&&e!==document.body);return e}function Pe(e){let t=e.getBoundingClientRect();return{x:t.width/e.offsetWidth||1,y:t.height/e.offsetHeight||1,boundingClientRect:t}}var E={__proto__:null,create:S,disableImageDrag:De,disableTextSelection:Te,enableImageDrag:Oe,enableTextSelection:Ee,get:ve,getPosition:T,getScale:Pe,getSizedParentNode:Ne,preventOutline:je,restoreOutline:Me,setPosition:w,setTransform:C,toBack:be,toFront:ye};let D=new Map,Fe=!1;function Ie(){Fe||(Fe=!0,document.addEventListener(`pointerdown`,Re,{capture:!0}),document.addEventListener(`pointermove`,ze,{capture:!0}),document.addEventListener(`pointerup`,Be,{capture:!0}),document.addEventListener(`pointercancel`,Be,{capture:!0}),D=new Map)}function Le(){document.removeEventListener(`pointerdown`,Re,{capture:!0}),document.removeEventListener(`pointermove`,ze,{capture:!0}),document.removeEventListener(`pointerup`,Be,{capture:!0}),document.removeEventListener(`pointercancel`,Be,{capture:!0}),Fe=!1}function Re(e){D.set(e.pointerId,e)}function ze(e){D.has(e.pointerId)&&D.set(e.pointerId,e)}function Be(e){D.delete(e.pointerId)}function Ve(){return[...D.values()]}function He(){D.clear()}var Ue={__proto__:null,cleanupPointers:He,disablePointerDetection:Le,enablePointerDetection:Ie,getPointers:Ve};function O(e,t,n,r){if(t&&typeof t==`object`)for(let[r,i]of Object.entries(t))Ke(e,r,i,n);else for(let i of o(t))Ke(e,i,n,r);return this}const k=`_leaflet_events`;function A(e,t,n,r){if(arguments.length===1)We(e),delete e[k];else if(t&&typeof t==`object`)for(let[r,i]of Object.entries(t))qe(e,r,i,n);else if(t=o(t),arguments.length===2)We(e,e=>t.includes(e));else for(let i of t)qe(e,i,n,r);return this}function We(e,t){for(let n of Object.keys(e[k]??{})){let r=n.split(/\d/)[0];(!t||t(r))&&qe(e,r,null,null,n)}}const Ge={pointerenter:`pointerover`,pointerleave:`pointerout`,wheel:typeof window>`u`?!1:!(`onwheel`in window)&&`mousewheel`};function Ke(e,n,r,i){let a=n+t(r)+(i?`_${t(i)}`:``);if(e[k]&&e[k][a])return this;let o=function(t){return r.call(i||e,t||window.event)},s=o;x.touch&&n===`dblclick`?o=ge(e,o):`addEventListener`in e?n===`wheel`||n===`mousewheel`?e.addEventListener(Ge[n]||n,o,{passive:!1}):n===`pointerenter`||n===`pointerleave`?(o=function(t){t??=window.event,et(e,t)&&s(t)},e.addEventListener(Ge[n],o,!1)):e.addEventListener(n,s,!1):e.attachEvent(`on${n}`,o),e[k]??={},e[k][a]=o}function qe(e,n,r,i,a){a??=n+t(r)+(i?`_${t(i)}`:``);let o=e[k]&&e[k][a];if(!o)return this;x.touch&&n===`dblclick`?_e(e,o):`removeEventListener`in e?e.removeEventListener(Ge[n]||n,o,!1):e.detachEvent(`on${n}`,o),e[k][a]=null}function j(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,this}function Je(e){return Ke(e,`wheel`,j),this}function Ye(e){return O(e,`pointerdown dblclick contextmenu`,j),e._leaflet_disable_click=!0,this}function M(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this}function N(e){return M(e),j(e),this}function Xe(e){return e.composedPath()}function Ze(e,t){if(!t)return new m(e.clientX,e.clientY);let n=Pe(t),r=n.boundingClientRect;return new m((e.clientX-r.left)/n.x-t.clientLeft,(e.clientY-r.top)/n.y-t.clientTop)}function Qe(){let e=window.devicePixelRatio;return x.linux&&x.chrome?e:x.mac?e*3:e>0?2*e:1}function $e(e){return e.deltaY&&e.deltaMode===0?-e.deltaY/Qe():e.deltaY&&e.deltaMode===1?-e.deltaY*20:e.deltaY&&e.deltaMode===2?-e.deltaY*60:(e.deltaX||e.deltaZ,0)}function et(e,t){let n=t.relatedTarget;if(!n)return!0;try{for(;n&&n!==e;)n=n.parentNode}catch{return!1}return n!==e}var P={__proto__:null,PointerEvents:Ue,disableClickPropagation:Ye,disableScrollPropagation:Je,getPointerPosition:Ze,getPropagationPath:Xe,getWheelDelta:$e,getWheelPxFactor:Qe,isExternalTarget:et,off:A,on:O,preventDefault:M,stop:N,stopPropagation:j},tt=class extends p{run(e,t,n,r){this.stop(),this._el=e,this._inProgress=!0,this._duration=n??.25,this._easeOutPower=1/Math.max(r??.5,.2),this._startPos=T(e),this._offset=t.subtract(this._startPos),this._startTime=+new Date,this.fire(`start`),this._animate()}stop(){this._inProgress&&(this._step(!0),this._complete())}_animate(){this._animId=requestAnimationFrame(this._animate.bind(this)),this._step()}_step(e){let t=+new Date-this._startTime,n=this._duration*1e3;t<n?this._runFrame(this._easeOut(t/n),e):(this._runFrame(1),this._complete())}_runFrame(e,t){let n=this._startPos.add(this._offset.multiplyBy(e));t&&n._round(),w(this._el,n),this.fire(`step`)}_complete(){cancelAnimationFrame(this._animId),this._inProgress=!1,this.fire(`end`)}_easeOut(e){return 1-(1-e)**this._easeOutPower}};let F=class e extends p{static#_=this.setDefaultOptions({crs:ne,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0});initialize(e,t){t=s(this,t),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(e),this._initLayout(),this._initEvents(),t.maxBounds&&this.setMaxBounds(t.maxBounds),t.zoom!==void 0&&(this._zoom=this._limitZoom(t.zoom)),t.center&&t.zoom!==void 0&&this.setView(new _(t.center),t.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=this.options.zoomAnimation,this._zoomAnimated&&this._createAnimProxy(),this._addLayers(this.options.layers)}setView(e,t,n){if(t=t===void 0?this._zoom:this._limitZoom(t),e=this._limitCenter(new _(e),t,this.options.maxBounds),n??={},this._stop(),this._loaded&&!n.reset&&n!==!0){n.animate!==void 0&&(n.zoom={animate:n.animate,...n.zoom},n.pan={animate:n.animate,duration:n.duration,...n.pan});let r=this._zoom===t?this._tryAnimatedPan(e,n.pan):this._tryAnimatedZoom&&this._tryAnimatedZoom(e,t,n.zoom);if(r)return clearTimeout(this._sizeTimer),this}return this._resetView(e,t,n.pan?.noMoveStart),this}setZoom(e,t){return this._loaded?this.setView(this.getCenter(),e,{zoom:t}):(this._zoom=e,this)}zoomIn(e,t){return e??=this.options.zoomDelta,this.setZoom(this._zoom+e,t)}zoomOut(e,t){return e??=this.options.zoomDelta,this.setZoom(this._zoom-e,t)}setZoomAround(e,t,n){let r=this.getZoomScale(t),i=this.getSize().divideBy(2),a=e instanceof m?e:this.latLngToContainerPoint(e),o=a.subtract(i).multiplyBy(1-1/r),s=this.containerPointToLatLng(i.add(o));return this.setView(s,t,{zoom:n})}_getBoundsCenterZoom(e,t){t??={},e=e.getBounds?e.getBounds():new g(e);let n=new m(t.paddingTopLeft||t.padding||[0,0]),r=new m(t.paddingBottomRight||t.padding||[0,0]),i=this.getBoundsZoom(e,!1,n.add(r));if(i=typeof t.maxZoom==`number`?Math.min(t.maxZoom,i):i,i===1/0)return{center:e.getCenter(),zoom:i};let a=r.subtract(n).divideBy(2),o=this.project(e.getSouthWest(),i),s=this.project(e.getNorthEast(),i),c=this.unproject(o.add(s).divideBy(2).add(a),i);return{center:c,zoom:i}}fitBounds(e,t){if(e=new g(e),!e.isValid())throw Error(`Bounds are not valid.`);let n=this._getBoundsCenterZoom(e,t);return this.setView(n.center,n.zoom,t)}fitWorld(e){return this.fitBounds([[-90,-180],[90,180]],e)}panTo(e,t){return this.setView(e,this._zoom,{pan:t})}panBy(e,t){if(e=new m(e).round(),t??={},!e.x&&!e.y)return this.fire(`moveend`);if(t.animate!==!0&&!this.getSize().contains(e))return this._resetView(this.unproject(this.project(this.getCenter()).add(e)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new tt,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),t.noMoveStart||this.fire(`movestart`),t.animate!==!1){this._mapPane.classList.add(`leaflet-pan-anim`);let n=this._getMapPanePos().subtract(e).round();this._panAnim.run(this._mapPane,n,t.duration||.25,t.easeLinearity)}else this._rawPanBy(e),this.fire(`move`).fire(`moveend`);return this}flyTo(e,t,n){if(n??={},n.animate===!1)return this.setView(e,t,n);this._stop();let r=this.project(this.getCenter()),i=this.project(e),a=this.getSize(),o=this._zoom;e=new _(e),t=t===void 0?o:this._limitZoom(t);let s=Math.max(a.x,a.y),c=s*this.getZoomScale(o,t),l=i.distanceTo(r)||1,u=1.42,d=u*u;function f(e){let t=e?-1:1,n=e?c:s,r=c*c-s*s+t*d*d*l*l,i=2*n*d*l,a=r/i,o=Math.sqrt(a*a+1)-a,u=o<1e-9?-18:Math.log(o);return u}function p(e){return(Math.exp(e)-Math.exp(-e))/2}function m(e){return(Math.exp(e)+Math.exp(-e))/2}function h(e){return p(e)/m(e)}let g=f(0);function v(e){return s*(m(g)/m(g+u*e))}function y(e){return s*(m(g)*h(g+u*e)-p(g))/d}function ee(e){return 1-(1-e)**1.5}let te=Date.now(),b=(f(1)-g)/u,ne=n.duration?1e3*n.duration:1e3*b*.8,re=()=>{let n=(Date.now()-te)/ne,a=ee(n)*b;n<=1?(this._flyToFrame=requestAnimationFrame(re),this._move(this.unproject(r.add(i.subtract(r).multiplyBy(y(a)/l)),o),this.getScaleZoom(s/v(a),o),{flyTo:!0})):this._move(e,t)._moveEnd(!0)};return this._moveStart(!0,n.noMoveStart),re(),this}flyToBounds(e,t){let n=this._getBoundsCenterZoom(e,t);return this.flyTo(n.center,n.zoom,t)}setMaxBounds(e){return e=new g(e),this.listens(`moveend`,this._panInsideMaxBounds)&&this.off(`moveend`,this._panInsideMaxBounds),e.isValid()?(this.options.maxBounds=e,this._loaded&&this._panInsideMaxBounds(),this.on(`moveend`,this._panInsideMaxBounds)):(this.options.maxBounds=null,this)}setMinZoom(e){let t=this.options.minZoom;return this.options.minZoom=e,this._loaded&&t!==e&&(this.fire(`zoomlevelschange`),this.getZoom()<this.options.minZoom)?this.setZoom(e):this}setMaxZoom(e){let t=this.options.maxZoom;return this.options.maxZoom=e,this._loaded&&t!==e&&(this.fire(`zoomlevelschange`),this.getZoom()>this.options.maxZoom)?this.setZoom(e):this}panInsideBounds(e,t){this._enforcingBounds=!0;let n=this.getCenter(),r=this._limitCenter(n,this._zoom,new g(e));return n.equals(r)||this.panTo(r,t),this._enforcingBounds=!1,this}panInside(e,t){t??={};let n=new m(t.paddingTopLeft||t.padding||[0,0]),r=new m(t.paddingBottomRight||t.padding||[0,0]),i=this.project(this.getCenter()),a=this.project(e),o=this.getPixelBounds(),s=new h([o.min.add(n),o.max.subtract(r)]),c=s.getSize();if(!s.contains(a)){this._enforcingBounds=!0;let e=a.subtract(s.getCenter()),n=s.extend(a).getSize().subtract(c);i.x+=e.x<0?-n.x:n.x,i.y+=e.y<0?-n.y:n.y,this.panTo(this.unproject(i),t),this._enforcingBounds=!1}return this}invalidateSize(e){if(!this._loaded)return this;e={animate:!1,pan:!0,...e===!0?{animate:!0}:e};let t=this.getSize();this._sizeChanged=!0,this._lastCenter=null;let n=this.getSize(),r=t.divideBy(2).round(),i=n.divideBy(2).round(),a=r.subtract(i);return!a.x&&!a.y?this:(e.animate&&e.pan?this.panBy(a):(e.pan&&this._rawPanBy(a),this.fire(`move`),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(this.fire.bind(this,`moveend`),200)):this.fire(`moveend`)),this.fire(`resize`,{oldSize:t,newSize:n}))}stop(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire(`viewreset`),this._stop()}locate(e){if(e=this._locateOptions={timeout:1e4,watch:!1,...e},!(`geolocation`in navigator))return this._handleGeolocationError({code:0,message:`Geolocation not supported.`}),this;let t=this._handleGeolocationResponse.bind(this),n=this._handleGeolocationError.bind(this);return e.watch?(this._locationWatchId!==void 0&&navigator.geolocation.clearWatch(this._locationWatchId),this._locationWatchId=navigator.geolocation.watchPosition(t,n,e)):navigator.geolocation.getCurrentPosition(t,n,e),this}stopLocate(){return navigator.geolocation?.clearWatch?.(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this}_handleGeolocationError(e){if(!this._container._leaflet_id)return;let t=e.code,n=e.message||(t===1?`permission denied`:t===2?`position unavailable`:`timeout`);this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire(`locationerror`,{code:t,message:`Geolocation error: ${n}.`})}_handleGeolocationResponse(e){if(!this._container._leaflet_id)return;let t=e.coords.latitude,n=e.coords.longitude,r=new _(t,n),i=r.toBounds(e.coords.accuracy*2),a=this._locateOptions;if(a.setView){let e=this.getBoundsZoom(i);this.setView(r,a.maxZoom?Math.min(e,a.maxZoom):e)}let o={latlng:r,bounds:i,timestamp:e.timestamp};for(let t in e.coords)typeof e.coords[t]==`number`&&(o[t]=e.coords[t]);this.fire(`locationfound`,o)}addHandler(e,t){if(!t)return this;let n=this[e]=new t(this);return this._handlers.push(n),this.options[e]&&n.enable(),this}remove(){if(this._initEvents(!0),this.options.maxBounds&&this.off(`moveend`,this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw Error(`Map container is being reused by another instance`);delete this._container._leaflet_id,delete this._containerId,this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),this._mapPane.remove(),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(cancelAnimationFrame(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),clearTimeout(this._transitionEndTimer),clearTimeout(this._sizeTimer),this._loaded&&this.fire(`unload`),this._destroyAnimProxy();for(let e of Object.values(this._layers))e.remove();for(let e of Object.values(this._panes))e.remove();return this._layers={},this._panes={},delete this._mapPane,delete this._renderer,this}createPane(e,t){let n=`leaflet-pane${e?` leaflet-${e.replace(`Pane`,``)}-pane`:``}`,r=S(`div`,n,t||this._mapPane);return e&&(this._panes[e]=r),r}getCenter(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())}getZoom(){return this._zoom}getBounds(){let e=this.getPixelBounds(),t=this.unproject(e.getBottomLeft()),n=this.unproject(e.getTopRight());return new g(t,n)}getMinZoom(){return this.options.minZoom??this._layersMinZoom??0}getMaxZoom(){return this.options.maxZoom??this._layersMaxZoom??1/0}getBoundsZoom(e,t,n){e=new g(e),n=new m(n??[0,0]);let r=this.getZoom()??0,i=this.getMinZoom(),a=this.getMaxZoom(),o=e.getNorthWest(),s=e.getSouthEast(),c=this.getSize().subtract(n),l=new h(this.project(s,r),this.project(o,r)).getSize(),u=this.options.zoomSnap,d=c.x/l.x,f=c.y/l.y,p=t?Math.max(d,f):Math.min(d,f);return r=this.getScaleZoom(p,r),u&&(r=Math.round(r/(u/100))*(u/100),r=t?Math.ceil(r/u)*u:Math.floor(r/u)*u),Math.max(i,Math.min(a,r))}getSize(){return(!this._size||this._sizeChanged)&&(this._size=new m(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()}getPixelBounds(e,t){let n=this._getTopLeftPoint(e,t);return new h(n,n.add(this.getSize()))}getPixelOrigin(){return this._checkIfLoaded(),this._pixelOrigin}getPixelWorldBounds(e){return this.options.crs.getProjectedBounds(e??this.getZoom())}getPane(e){return typeof e==`string`?this._panes[e]:e}getPanes(){return this._panes}getContainer(){return this._container}getZoomScale(e,t){let n=this.options.crs;return t??=this._zoom,n.scale(e)/n.scale(t)}getScaleZoom(e,t){let n=this.options.crs;t??=this._zoom;let r=n.zoom(e*n.scale(t));return isNaN(r)?1/0:r}project(e,t){return t??=this._zoom,this.options.crs.latLngToPoint(new _(e),t)}unproject(e,t){return t??=this._zoom,this.options.crs.pointToLatLng(new m(e),t)}layerPointToLatLng(e){let t=new m(e).add(this.getPixelOrigin());return this.unproject(t)}latLngToLayerPoint(e){let t=this.project(new _(e))._round();return t._subtract(this.getPixelOrigin())}wrapLatLng(e){return this.options.crs.wrapLatLng(new _(e))}wrapLatLngBounds(e){return this.options.crs.wrapLatLngBounds(new g(e))}distance(e,t){return this.options.crs.distance(new _(e),new _(t))}containerPointToLayerPoint(e){return new m(e).subtract(this._getMapPanePos())}layerPointToContainerPoint(e){return new m(e).add(this._getMapPanePos())}containerPointToLatLng(e){let t=this.containerPointToLayerPoint(new m(e));return this.layerPointToLatLng(t)}latLngToContainerPoint(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(new _(e)))}pointerEventToContainerPoint(e){return Ze(e,this._container)}pointerEventToLayerPoint(e){return this.containerPointToLayerPoint(this.pointerEventToContainerPoint(e))}pointerEventToLatLng(e){return this.layerPointToLatLng(this.pointerEventToLayerPoint(e))}_initContainer(e){let n=this._container=ve(e);if(n){if(n._leaflet_id)throw Error(`Map container is already initialized.`)}else throw Error(`Map container not found.`);O(n,`scroll`,this._onScroll,this),this._containerId=t(n),Ie()}_initLayout(){let e=this._container;this._fadeAnimated=this.options.fadeAnimation;let t=[`leaflet-container`,`leaflet-touch`];x.retina&&t.push(`leaflet-retina`),x.safari&&t.push(`leaflet-safari`),this._fadeAnimated&&t.push(`leaflet-fade-anim`),e.classList.add(...t);let{position:n}=getComputedStyle(e);n!==`absolute`&&n!==`relative`&&n!==`fixed`&&n!==`sticky`&&(e.style.position=`relative`),this._initPanes(),this._initControlPos&&this._initControlPos()}_initPanes(){let e=this._panes={};this._paneRenderers={},this._mapPane=this.createPane(`mapPane`,this._container),w(this._mapPane,new m(0,0)),this.createPane(`tilePane`),this.createPane(`overlayPane`),this.createPane(`shadowPane`),this.createPane(`markerPane`),this.createPane(`tooltipPane`),this.createPane(`popupPane`),this.options.markerZoomAnimation||(e.markerPane.classList.add(`leaflet-zoom-hide`),e.shadowPane.classList.add(`leaflet-zoom-hide`))}_resetView(e,t,n){w(this._mapPane,new m(0,0));let r=!this._loaded;this._loaded=!0,t=this._limitZoom(t),this.fire(`viewprereset`);let i=this._zoom!==t;this._moveStart(i,n)._move(e,t)._moveEnd(i),this.fire(`viewreset`),r&&this.fire(`load`)}_moveStart(e,t){return e&&this.fire(`zoomstart`),t||this.fire(`movestart`),this}_move(e,t,n,r){t===void 0&&(t=this._zoom);let i=this._zoom!==t;return this._zoom=t,this._lastCenter=e,this._pixelOrigin=this._getNewPixelOrigin(e),r?n?.pinch&&this.fire(`zoom`,n):((i||n?.pinch)&&this.fire(`zoom`,n),this.fire(`move`,n)),this}_moveEnd(e){return e&&this.fire(`zoomend`),this.fire(`moveend`)}_stop(){return cancelAnimationFrame(this._flyToFrame),this._panAnim?.stop(),this}_rawPanBy(e){w(this._mapPane,this._getMapPanePos().subtract(e))}_getZoomSpan(){return this.getMaxZoom()-this.getMinZoom()}_panInsideMaxBounds(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)}_checkIfLoaded(){if(!this._loaded)throw Error(`Set map center and zoom first.`)}_initEvents(e){this._targets={},this._targets[t(this._container)]=this;let n=e?A:O;n(this._container,`click dblclick pointerdown pointerup pointerover pointerout pointermove contextmenu keypress keydown keyup`,this._handleDOMEvent,this),this.options.trackResize&&(e?this._resizeObserver.disconnect():(this._resizeObserver||=new ResizeObserver(this._onResize.bind(this)),this._resizeObserver.observe(this._container))),this.options.transform3DLimit&&(e?this.off:this.on).call(this,`moveend`,this._onMoveEnd)}_onResize(){cancelAnimationFrame(this._resizeRequest),this._resizeRequest=requestAnimationFrame(()=>{this.invalidateSize({debounceMoveend:!0})})}_onScroll(){this._container.scrollTop=0,this._container.scrollLeft=0}_onMoveEnd(){let e=this._getMapPanePos();Math.max(Math.abs(e.x),Math.abs(e.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())}_findEventTargets(e,n){let r=[],i,a=e.target||e.srcElement,o=!1,s=n===`pointerout`||n===`pointerover`;for(;a;){if(i=this._targets[t(a)],i&&(n===`click`||n===`preclick`)&&this._draggableMoved(i)){o=!0;break}if(i&&i.listens(n,!0)&&(s&&!et(a,e)||(r.push(i),s))||a===this._container)break;a=a.parentNode}return!r.length&&!o&&!s&&this.listens(n,!0)&&(r=[this]),r}_isClickDisabled(e){for(;e&&e!==this._container;){if(e._leaflet_disable_click||!e.parentNode)return!0;e=e.parentNode}}_handleDOMEvent(e){let t=e.target??e.srcElement;if(!this._loaded||t._leaflet_disable_events||e.type===`click`&&this._isClickDisabled(t))return;let n=e.type;n===`pointerdown`&&je(t),this._fireDOMEvent(e,n)}static _pointerEvents=[`click`,`dblclick`,`pointerover`,`pointerout`,`contextmenu`];_fireDOMEvent(t,n,r){n===`click`&&this._fireDOMEvent(t,`preclick`,r);let i=this._findEventTargets(t,n);if(r){let e=r.filter(e=>e.listens(n,!0));i=e.concat(i)}if(!i.length)return;n===`contextmenu`&&M(t);let a=i[0],o={originalEvent:t};if(t.type!==`keypress`&&t.type!==`keydown`&&t.type!==`keyup`){let e=a.getLatLng&&(!a._radius||a._radius<=10);o.containerPoint=e?this.latLngToContainerPoint(a.getLatLng()):this.pointerEventToContainerPoint(t),o.layerPoint=this.containerPointToLayerPoint(o.containerPoint),o.latlng=e?a.getLatLng():this.layerPointToLatLng(o.layerPoint)}for(let t of i)if(t.fire(n,o,!0),o.originalEvent._stopped||t.options.bubblingPointerEvents===!1&&e._pointerEvents.includes(n))return}_draggableMoved(e){return e=e.dragging?.enabled()?e:this,e.dragging?.moved()||this.boxZoom?.moved()}_clearHandlers(){for(let e of this._handlers)e.disable()}whenReady(e,t){return this._loaded?e.call(t||this,{target:this}):this.on(`load`,e,t),this}_getMapPanePos(){return T(this._mapPane)}_moved(){let e=this._getMapPanePos();return e&&!e.equals([0,0])}_getTopLeftPoint(e,t){let n=e&&t!==void 0?this._getNewPixelOrigin(e,t):this.getPixelOrigin();return n.subtract(this._getMapPanePos())}_getNewPixelOrigin(e,t){let n=this.getSize()._divideBy(2);return this.project(e,t)._subtract(n)._add(this._getMapPanePos())._round()}_latLngToNewLayerPoint(e,t,n){let r=this._getNewPixelOrigin(n,t);return this.project(e,t)._subtract(r)}_latLngBoundsToNewLayerBounds(e,t,n){let r=this._getNewPixelOrigin(n,t);return new h([this.project(e.getSouthWest(),t)._subtract(r),this.project(e.getNorthWest(),t)._subtract(r),this.project(e.getSouthEast(),t)._subtract(r),this.project(e.getNorthEast(),t)._subtract(r)])}_getCenterLayerPoint(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))}_getCenterOffset(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())}_limitCenter(e,t,n){if(!n)return e;let r=this.project(e,t),i=this.getSize().divideBy(2),a=new h(r.subtract(i),r.add(i)),o=this._getBoundsOffset(a,n,t);return Math.abs(o.x)<=1&&Math.abs(o.y)<=1?e:this.unproject(r.add(o),t)}_limitOffset(e,t){if(!t)return e;let n=this.getPixelBounds(),r=new h(n.min.add(e),n.max.add(e));return e.add(this._getBoundsOffset(r,t))}_getBoundsOffset(e,t,n){let r=new h(this.project(t.getNorthEast(),n),this.project(t.getSouthWest(),n)),i=r.min.subtract(e.min),a=r.max.subtract(e.max),o=this._rebound(i.x,-a.x),s=this._rebound(i.y,-a.y);return new m(o,s)}_rebound(e,t){return e+t>0?Math.round(e-t)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(t))}_limitZoom(e){let t=this.getMinZoom(),n=this.getMaxZoom(),r=this.options.zoomSnap;return r&&(e=Math.round(e/r)*r),Math.max(t,Math.min(n,e))}_onPanTransitionStep(){this.fire(`move`)}_onPanTransitionEnd(){this._mapPane.classList.remove(`leaflet-pan-anim`),this.fire(`moveend`)}_tryAnimatedPan(e,t){let n=this._getCenterOffset(e)._trunc();return t?.animate!==!0&&!this.getSize().contains(n)?!1:(this.panBy(n,t),!0)}_createAnimProxy(){this._proxy=S(`div`,`leaflet-proxy leaflet-zoom-animated`),this._panes.mapPane.appendChild(this._proxy),this.on(`zoomanim`,this._animateProxyZoom,this),this.on(`load moveend`,this._animMoveEnd,this),O(this._proxy,`transitionend`,this._catchTransitionEnd,this)}_animateProxyZoom(e){let t=this._proxy.style.transform;C(this._proxy,this.project(e.center,e.zoom),this.getZoomScale(e.zoom,1)),t===this._proxy.style.transform&&this._animatingZoom&&this._onZoomTransitionEnd()}_animMoveEnd(){let e=this.getCenter(),t=this.getZoom();C(this._proxy,this.project(e,t),this.getZoomScale(t,1))}_destroyAnimProxy(){this._proxy&&(A(this._proxy,`transitionend`,this._catchTransitionEnd,this),this._proxy.remove(),this.off(`zoomanim`,this._animateProxyZoom,this),this.off(`load moveend`,this._animMoveEnd,this),delete this._proxy)}_catchTransitionEnd(e){this._animatingZoom&&e.propertyName.includes(`transform`)&&this._onZoomTransitionEnd()}_nothingToAnimate(){return!this._container.getElementsByClassName(`leaflet-zoom-animated`).length}_tryAnimatedZoom(e,t,n){if(this._animatingZoom)return!0;if(n??={},!this._zoomAnimated||n.animate===!1||this._nothingToAnimate()||Math.abs(t-this._zoom)>this.options.zoomAnimationThreshold)return!1;let r=this.getZoomScale(t),i=this._getCenterOffset(e)._divideBy(1-1/r);return n.animate!==!0&&!this.getSize().contains(i)?!1:(requestAnimationFrame(()=>{this._moveStart(!0,n.noMoveStart??!1)._animateZoom(e,t,!0)}),!0)}_animateZoom(e,t,n,r){this._mapPane&&(n&&(this._animatingZoom=!0,this._animateToCenter=e,this._animateToZoom=t,this._mapPane.classList.add(`leaflet-zoom-anim`)),this.fire(`zoomanim`,{center:e,zoom:t,noUpdate:r}),this._tempFireZoomEvent||=this._zoom!==this._animateToZoom,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._transitionEndTimer=setTimeout(this._onZoomTransitionEnd.bind(this),250))}_onZoomTransitionEnd(){this._animatingZoom&&(this._mapPane?.classList.remove(`leaflet-zoom-anim`),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire(`zoom`),delete this._tempFireZoomEvent,this.fire(`move`),this._moveEnd(!0))}};const nt=F;var I=class extends f{static#_=this.setDefaultOptions({position:`topright`});initialize(e){s(this,e)}getPosition(){return this.options.position}setPosition(e){let t=this._map;return t?.removeControl(this),this.options.position=e,t?.addControl(this),this}getContainer(){return this._container}addTo(e){this.remove(),this._map=e;let t=this._container=this.onAdd(e),n=this.getPosition(),r=e._controlCorners[n];return t.classList.add(`leaflet-control`),n.includes(`bottom`)?r.insertBefore(t,r.firstChild):r.appendChild(t),this._map.on(`unload`,this.remove,this),this}remove(){return this._map?(this._container.remove(),this.onRemove&&this.onRemove(this._map),this._map.off(`unload`,this.remove,this),this._map=null,this):this}_refocusOnMap(e){this._map&&e&&!(e.screenX===0&&e.screenY===0)&&this._map.getContainer().focus()}};F.include({addControl(e){return e.addTo(this),this},removeControl(e){return e.remove(),this},_initControlPos(){let e=this._controlCorners={},t=`leaflet-`,n=this._controlContainer=S(`div`,`${t}control-container`,this._container);function r(r,i){let a=`${t+r} ${t}${i}`;e[r+i]=S(`div`,a,n)}r(`top`,`left`),r(`top`,`right`),r(`bottom`,`left`),r(`bottom`,`right`)},_clearControlPos(){for(let e of Object.values(this._controlCorners))e.remove();this._controlContainer.remove(),delete this._controlCorners,delete this._controlContainer}});var rt=class extends I{static#_=this.setDefaultOptions({collapsed:!0,collapseDelay:0,position:`topright`,autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction(e,t,n,r){return n<r?-1:r<n?1:0}});initialize(e,t,n){s(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(let[t,n]of Object.entries(e??{}))this._addLayer(n,t);for(let[e,n]of Object.entries(t??{}))this._addLayer(n,e,!0)}onAdd(e){this._initLayout(),this._update(),this._map=e,e.on(`zoomend`,this._checkDisabledLayers,this);for(let e of this._layers)e.layer.on(`add remove`,this._onLayerChange,this);return this.options.collapsed||e.on(`resize`,this._expandIfNotCollapsed,this),this._container}addTo(e){return I.prototype.addTo.call(this,e),this._expandIfNotCollapsed()}onRemove(){this._map.off(`zoomend`,this._checkDisabledLayers,this);for(let e of this._layers)e.layer.off(`add remove`,this._onLayerChange,this);this._map.off(`resize`,this._expandIfNotCollapsed,this)}addBaseLayer(e,t){return this._addLayer(e,t),this._map?this._update():this}addOverlay(e,t){return this._addLayer(e,t,!0),this._map?this._update():this}removeLayer(e){e.off(`add remove`,this._onLayerChange,this);let n=this._getLayer(t(e));return n&&this._layers.splice(this._layers.indexOf(n),1),this._map?this._update():this}expand(){clearTimeout(this._collapseDelayTimeout),this._container.classList.add(`leaflet-control-layers-expanded`),this._section.style.height=null;let e=this._map.getSize().y-(this._container.offsetTop+50);return e<this._section.clientHeight?(this._section.classList.add(`leaflet-control-layers-scrollbar`),this._section.style.height=`${e}px`):this._section.classList.remove(`leaflet-control-layers-scrollbar`),this._checkDisabledLayers(),this}collapse(e){if(!e||!((e.type===`pointerleave`||e.type===`pointerout`)&&e.pointerType===`touch`)){if(this.options.collapseDelay>0)return this._collapseDelayTimeout=setTimeout(()=>{this._container.classList.remove(`leaflet-control-layers-expanded`)},this.options.collapseDelay),this;this._container.classList.remove(`leaflet-control-layers-expanded`)}return this}_initLayout(){let e=`leaflet-control-layers`,t=this._container=S(`div`,e),n=this.options.collapsed;Ye(t),Je(t);let r=this._section=S(`fieldset`,`${e}-list`);n&&(this._map.on(`click`,this.collapse,this),O(t,{pointerenter:this._expandSafely,pointerleave:this.collapse},this));let i=this._layersLink=S(`a`,`${e}-toggle`,t);i.href=`#`,i.title=`Layers`,i.setAttribute(`role`,`button`),O(i,{keydown(e){e.code===`Enter`&&this._expandSafely()},click(e){M(e),this._expandSafely()}},this),n||this.expand(),this._baseLayersList=S(`div`,`${e}-base`,r),this._separator=S(`div`,`${e}-separator`,r),this._overlaysList=S(`div`,`${e}-overlays`,r),t.appendChild(r)}_getLayer(e){for(let n of this._layers)if(n&&t(n.layer)===e)return n}_addLayer(e,t,n){this._map&&e.on(`add remove`,this._onLayerChange,this),this._layers.push({layer:e,name:t,overlay:n}),this.options.sortLayers&&this._layers.sort((e,t)=>this.options.sortFunction(e.layer,t.layer,e.name,t.name)),this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()}_update(){if(!this._container)return this;this._baseLayersList.replaceChildren(),this._overlaysList.replaceChildren(),this._layerControlInputs=[];let e,t,n=0;for(let r of this._layers)this._addItem(r),t||=r.overlay,e||=!r.overlay,n+=r.overlay?0:1;return this.options.hideSingleBase&&(e&&=n>1,this._baseLayersList.style.display=e?``:`none`),this._separator.style.display=t&&e?``:`none`,this}_onLayerChange(e){this._handlingClick||this._update();let n=this._getLayer(t(e.target)),r=n.overlay?e.type===`add`?`overlayadd`:`overlayremove`:e.type===`add`?`baselayerchange`:null;r&&this._map.fire(r,n)}_addItem(e){let n=document.createElement(`label`),r=this._map.hasLayer(e.layer),i=document.createElement(`input`);i.type=e.overlay?`checkbox`:`radio`,i.className=`leaflet-control-layers-selector`,i.defaultChecked=r,e.overlay||(i.name=`leaflet-base-layers_${t(this)}`),this._layerControlInputs.push(i),i.layerId=t(e.layer),O(i,`click`,this._onInputClick,this);let a=document.createElement(`span`);a.innerHTML=` ${e.name}`;let o=document.createElement(`span`);n.appendChild(o),o.appendChild(i),o.appendChild(a);let s=e.overlay?this._overlaysList:this._baseLayersList;return s.appendChild(n),this._checkDisabledLayers(),n}_onInputClick(e){if(this._preventClick)return;let t=this._layerControlInputs,n=[],r=[];this._handlingClick=!0;for(let e of t){let t=this._getLayer(e.layerId).layer;e.checked?n.push(t):e.checked||r.push(t)}for(let e of r)this._map.hasLayer(e)&&this._map.removeLayer(e);for(let e of n)this._map.hasLayer(e)||this._map.addLayer(e);this._handlingClick=!1,this._refocusOnMap(e)}_checkDisabledLayers(){let e=this._layerControlInputs,t=this._map.getZoom();for(let n of e){let e=this._getLayer(n.layerId).layer;n.disabled=e.options.minZoom!==void 0&&t<e.options.minZoom||e.options.maxZoom!==void 0&&t>e.options.maxZoom}}_expandIfNotCollapsed(){return this._map&&!this.options.collapsed&&this.expand(),this}_expandSafely(){let e=this._section;this._preventClick=!0,O(e,`click`,M),this.expand(),setTimeout(()=>{A(e,`click`,M),this._preventClick=!1})}},it=class extends I{static#_=this.setDefaultOptions({position:`topleft`,zoomInText:`<span aria-hidden="true">+</span>`,zoomInTitle:`Zoom in`,zoomOutText:`<span aria-hidden="true">&#x2212;</span>`,zoomOutTitle:`Zoom out`});onAdd(e){let t=`leaflet-control-zoom`,n=S(`div`,`${t} leaflet-bar`),r=this.options;return this._zoomInButton=this._createButton(r.zoomInText,r.zoomInTitle,`${t}-in`,n,this._zoomIn),this._zoomOutButton=this._createButton(r.zoomOutText,r.zoomOutTitle,`${t}-out`,n,this._zoomOut),this._updateDisabled(),e.on(`zoomend zoomlevelschange`,this._updateDisabled,this),n}onRemove(e){e.off(`zoomend zoomlevelschange`,this._updateDisabled,this)}disable(){return this._disabled=!0,this._updateDisabled(),this}enable(){return this._disabled=!1,this._updateDisabled(),this}_zoomIn(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))}_zoomOut(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))}_createButton(e,t,n,r,i){let a=S(`a`,n,r);return a.innerHTML=e,a.href=`#`,a.title=t,a.setAttribute(`role`,`button`),a.setAttribute(`aria-label`,t),Ye(a),O(a,`click`,N),O(a,`click`,i,this),O(a,`click`,this._refocusOnMap,this),a}_updateDisabled(){let e=this._map,t=`leaflet-disabled`;this._zoomInButton.classList.remove(t),this._zoomOutButton.classList.remove(t),this._zoomInButton.setAttribute(`aria-disabled`,`false`),this._zoomOutButton.setAttribute(`aria-disabled`,`false`),(this._disabled||e._zoom===e.getMinZoom())&&(this._zoomOutButton.classList.add(t),this._zoomOutButton.setAttribute(`aria-disabled`,`true`)),(this._disabled||e._zoom===e.getMaxZoom())&&(this._zoomInButton.classList.add(t),this._zoomInButton.setAttribute(`aria-disabled`,`true`))}};F.mergeOptions({zoomControl:!0}),F.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new it,this.addControl(this.zoomControl))});var at=class extends I{static#_=this.setDefaultOptions({position:`bottomleft`,maxWidth:100,metric:!0,imperial:!0,updateWhenIdle:!1});onAdd(e){let t=`leaflet-control-scale`,n=S(`div`,t),r=this.options;return this._addScales(r,`${t}-line`,n),e.on(r.updateWhenIdle?`moveend`:`move`,this._update,this),e.whenReady(this._update,this),n}onRemove(e){e.off(this.options.updateWhenIdle?`moveend`:`move`,this._update,this)}_addScales(e,t,n){e.metric&&(this._mScale=S(`div`,t,n)),e.imperial&&(this._iScale=S(`div`,t,n))}_update(){let e=this._map,t=e.getSize().y/2,n=e.distance(e.containerPointToLatLng([0,t]),e.containerPointToLatLng([this.options.maxWidth,t]));this._updateScales(n)}_updateScales(e){this.options.metric&&e&&this._updateMetric(e),this.options.imperial&&e&&this._updateImperial(e)}_updateMetric(e){let t=this._getRoundNum(e),n=t<1e3?`${t} m`:`${t/1e3} km`;this._updateScale(this._mScale,n,t/e)}_updateImperial(e){let t=e*3.2808399,n,r,i;t>5280?(n=t/5280,r=this._getRoundNum(n),this._updateScale(this._iScale,`${r} mi`,r/n)):(i=this._getRoundNum(t),this._updateScale(this._iScale,`${i} ft`,i/t))}_updateScale(e,t,n){e.style.width=`${Math.round(this.options.maxWidth*n)}px`,e.innerHTML=t}_getRoundNum(e){let t=10**(`${Math.floor(e)}`.length-1),n=e/t;return n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1,t*n}};const ot=`<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>`;var st=class extends I{static#_=this.setDefaultOptions({position:`bottomright`,prefix:`<a target="_blank" href="https://leafletjs.com" title="A JavaScript library for interactive maps">${ot}Leaflet</a>`});initialize(e){s(this,e),this._attributions={}}onAdd(e){e.attributionControl=this,this._container=S(`div`,`leaflet-control-attribution`),Ye(this._container);for(let t of Object.values(e._layers))t.getAttribution&&this.addAttribution(t.getAttribution());return this._update(),e.on(`layeradd`,this._addAttribution,this),this._container}onRemove(e){e.off(`layeradd`,this._addAttribution,this)}_addAttribution(e){e.layer.getAttribution&&(this.addAttribution(e.layer.getAttribution()),e.layer.once(`remove`,()=>this.removeAttribution(e.layer.getAttribution())))}setPrefix(e){return this.options.prefix=e,this._update(),this}addAttribution(e){return e?(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update(),this):this}removeAttribution(e){return e&&this._attributions[e]&&(this._attributions[e]--,this._update()),this}_update(){if(!this._map)return;let e=Object.keys(this._attributions).filter(e=>this._attributions[e]),t=[];this.options.prefix&&t.push(this.options.prefix),e.length&&t.push(e.join(`, `)),this._container.innerHTML=t.join(` <span aria-hidden="true">|</span> `)}};F.mergeOptions({attributionControl:!0}),F.addInitHook(function(){this.options.attributionControl&&new st().addTo(this)}),I.Layers=rt,I.Zoom=it,I.Scale=at,I.Attribution=st;var R=class extends f{initialize(e){this._map=e}enable(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)}disable(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this}enabled(){return!!this._enabled}};R.addTo=function(e,t){return e.addHandler(t,this),this};var ct=class e extends p{static#_=this.setDefaultOptions({clickTolerance:3});initialize(e,t,n,r){s(this,r),this._element=e,this._dragStartTarget=t??e,this._preventOutline=n}enable(){this._enabled||(O(this._dragStartTarget,`pointerdown`,this._onDown,this),this._enabled=!0)}disable(){this._enabled&&(e._dragging===this&&this.finishDrag(!0),A(this._dragStartTarget,`pointerdown`,this._onDown,this),this._enabled=!1,this._moved=!1)}_onDown(t){if(this._moved=!1,this._element.classList.contains(`leaflet-zoom-anim`))return;if(Ve().length!==1){e._dragging===this&&this.finishDrag();return}if(e._dragging||t.shiftKey||t.button!==0&&t.pointerType!==`touch`||(e._dragging=this,this._preventOutline&&je(this._element),De(),Te(),this._moving))return;this.fire(`down`);let n=Ne(this._element);this._startPoint=new m(t.clientX,t.clientY),this._startPos=T(this._element),this._parentScale=Pe(n),O(document,`pointermove`,this._onMove,this),O(document,`pointerup pointercancel`,this._onUp,this)}_onMove(e){if(Ve().length>1){this._moved=!0;return}let t=new m(e.clientX,e.clientY)._subtract(this._startPoint);!t.x&&!t.y||Math.abs(t.x)+Math.abs(t.y)<this.options.clickTolerance||(t.x/=this._parentScale.x,t.y/=this._parentScale.y,e.cancelable&&M(e),this._moved||(this.fire(`dragstart`),this._moved=!0,document.body.classList.add(`leaflet-dragging`),this._lastTarget=e.target??e.srcElement,this._lastTarget.classList.add(`leaflet-drag-target`)),this._newPos=this._startPos.add(t),this._moving=!0,this._lastEvent=e,this._updatePosition())}_updatePosition(){let e={originalEvent:this._lastEvent};this.fire(`predrag`,e),w(this._element,this._newPos),this.fire(`drag`,e)}_onUp(){this.finishDrag()}finishDrag(t){document.body.classList.remove(`leaflet-dragging`),this._lastTarget&&(this._lastTarget.classList.remove(`leaflet-drag-target`),this._lastTarget=null),A(document,`pointermove`,this._onMove,this),A(document,`pointerup pointercancel`,this._onUp,this),Oe(),Ee();let n=this._moved&&this._moving;this._moving=!1,e._dragging=!1,n&&this.fire(`dragend`,{noInertia:t,distance:this._newPos.distanceTo(this._startPos)})}};function lt(e,t,n){let r,i,a,o,s,c,l,u,d,f=[1,4,2,8];for(i=0,l=e.length;i<l;i++)e[i]._code=z(e[i],t);for(o=0;o<4;o++){for(u=f[o],r=[],i=0,l=e.length,a=l-1;i<l;a=i++)s=e[i],c=e[a],s._code&u?c._code&u||(d=xt(c,s,u,t,n),d._code=z(d,t),r.push(d)):(c._code&u&&(d=xt(c,s,u,t,n),d._code=z(d,t),r.push(d)),r.push(s));e=r}return e}function ut(e,t){let n,r,i,a,o,s,c,l,u;if(!e||e.length===0)throw Error(`latlngs not passed`);B(e)||(console.warn(`latlngs are not flat! Only the first ring will be used`),e=e[0]);let d=new _([0,0]),f=new g(e),p=f.getNorthWest().distanceTo(f.getSouthWest())*f.getNorthEast().distanceTo(f.getNorthWest());p<1700&&(d=dt(e));let h=e.length,v=[];for(n=0;n<h;n++){let r=new _(e[n]);v.push(t.project(new _([r.lat-d.lat,r.lng-d.lng])))}for(s=c=l=0,n=0,r=h-1;n<h;r=n++)i=v[n],a=v[r],o=i.y*a.x-a.y*i.x,c+=(i.x+a.x)*o,l+=(i.y+a.y)*o,s+=o*3;u=s===0?v[0]:[c/s,l/s];let y=t.unproject(new m(u));return new _([y.lat+d.lat,y.lng+d.lng])}function dt(e){let t=0,n=0,r=0;for(let i of e){let e=new _(i);t+=e.lat,n+=e.lng,r++}return new _([t/r,n/r])}var ft={__proto__:null,centroid:dt,clipPolygon:lt,polygonCenter:ut};function pt(e,t){if(!t||!e.length)return e.slice();let n=t*t;return e=vt(e,n),e=gt(e,n),e}function mt(e,t,n){return Math.sqrt(Ct(e,t,n,!0))}function ht(e,t,n){return Ct(e,t,n)}function gt(e,t){let n=e.length,r=new Uint8Array(n);r[0]=r[n-1]=1,_t(e,r,t,0,n-1);let i,a=[];for(i=0;i<n;i++)r[i]&&a.push(e[i]);return a}function _t(e,t,n,r,i){let a=0,o,s,c;for(s=r+1;s<=i-1;s++)c=Ct(e[s],e[r],e[i],!0),c>a&&(o=s,a=c);a>n&&(t[o]=1,_t(e,t,n,r,o),_t(e,t,n,o,i))}function vt(e,t){let n=[e[0]],r=0;for(let i=1;i<e.length;i++)St(e[i],e[r])>t&&(n.push(e[i]),r=i);return r<e.length-1&&n.push(e[e.length-1]),n}let yt;function bt(e,t,n,r,i){let a=r?yt:z(e,n),o=z(t,n),s,c,l;for(yt=o;;){if(!(a|o))return[e,t];if(a&o)return!1;s=a||o,c=xt(e,t,s,n,i),l=z(c,n),s===a?(e=c,a=l):(t=c,o=l)}}function xt(e,t,n,r,i){let a=t.x-e.x,o=t.y-e.y,s=r.min,c=r.max,l,u;return n&8?(l=e.x+a*(c.y-e.y)/o,u=c.y):n&4?(l=e.x+a*(s.y-e.y)/o,u=s.y):n&2?(l=c.x,u=e.y+o*(c.x-e.x)/a):n&1&&(l=s.x,u=e.y+o*(s.x-e.x)/a),new m(l,u,i)}function z(e,t){let n=0;return e.x<t.min.x?n|=1:e.x>t.max.x&&(n|=2),e.y<t.min.y?n|=4:e.y>t.max.y&&(n|=8),n}function St(e,t){let n=t.x-e.x,r=t.y-e.y;return n*n+r*r}function Ct(e,t,n,r){let i=t.x,a=t.y,o=n.x-i,s=n.y-a,c,l=o*o+s*s;return l>0&&(c=((e.x-i)*o+(e.y-a)*s)/l,c>1?(i=n.x,a=n.y):c>0&&(i+=o*c,a+=s*c)),o=e.x-i,s=e.y-a,r?o*o+s*s:new m(i,a)}function B(e){return!Array.isArray(e[0])||typeof e[0][0]!=`object`&&e[0][0]!==void 0}function wt(e,t){let n,r,i,a,o,s,c,l;if(!e||e.length===0)throw Error(`latlngs not passed`);B(e)||(console.warn(`latlngs are not flat! Only the first ring will be used`),e=e[0]);let u=new _([0,0]),d=new g(e),f=d.getNorthWest().distanceTo(d.getSouthWest())*d.getNorthEast().distanceTo(d.getNorthWest());f<1700&&(u=dt(e));let p=e.length,h=[];for(n=0;n<p;n++){let r=new _(e[n]);h.push(t.project(new _([r.lat-u.lat,r.lng-u.lng])))}for(n=0,r=0;n<p-1;n++)r+=h[n].distanceTo(h[n+1])/2;if(r===0)l=h[0];else for(n=0,a=0;n<p-1;n++)if(o=h[n],s=h[n+1],i=o.distanceTo(s),a+=i,a>r){c=(a-r)/i,l=[s.x-c*(s.x-o.x),s.y-c*(s.y-o.y)];break}let v=t.unproject(new m(l));return new _([v.lat+u.lat,v.lng+u.lng])}var Tt={__proto__:null,_getBitCode:z,_getEdgeIntersection:xt,_sqClosestPointOnSegment:Ct,clipSegment:bt,closestPointOnSegment:ht,isFlat:B,pointToSegmentDistance:mt,polylineCenter:wt,simplify:pt};const Et={project(e){return e=new _(e),new m(e.lng,e.lat)},unproject(e){return e=new m(e),new _(e.y,e.x)},bounds:new h([-180,-90],[180,90])},Dt=6378137,Ot={R:Dt,R_MINOR:6356752.314245179,bounds:new h([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project(e){e=new _(e);let t=Math.PI/180,n=this.R,r=this.R_MINOR/n,i=Math.sqrt(1-r*r),a=e.lat*t,o=i*Math.sin(a),s=Math.tan(Math.PI/4-a/2)/((1-o)/(1+o))**(i/2);return a=-n*Math.log(Math.max(s,1e-10)),new m(e.lng*t*n,a)},unproject(e){e=new m(e);let t=180/Math.PI,n=this.R,r=this.R_MINOR/n,i=Math.sqrt(1-r*r),a=Math.exp(-e.y/n),o=Math.PI/2-2*Math.atan(a);for(let e=0,t=.1,n;e<15&&Math.abs(t)>1e-7;e++)n=i*Math.sin(o),n=((1-n)/(1+n))**(i/2),t=Math.PI/2-2*Math.atan(a*n)-o,o+=t;return new _(o*t,e.x*t/n)}};var kt={__proto__:null,LonLat:Et,Mercator:Ot,SphericalMercator:te},At=class extends y{static code=`EPSG:3395`;static projection=Ot;static transformation=(()=>{let e=.5/(Math.PI*Ot.R);return new b(e,.5,-e,.5)})()},jt=class extends y{static code=`EPSG:4326`;static projection=Et;static transformation=new b(1/180,1,-1/180,.5)},Mt=class extends v{static projection=Et;static transformation=new b(1,0,-1,0);static scale(e){return 2**e}static zoom(e){return Math.log(e)/Math.LN2}static distance(e,t){let n=t.lng-e.lng,r=t.lat-e.lat;return Math.sqrt(n*n+r*r)}static infinite=!0};v.Earth=y,v.EPSG3395=At,v.EPSG3857=ne,v.EPSG900913=re,v.EPSG4326=jt,v.Simple=Mt;var V=class extends p{static#_=this.setDefaultOptions({pane:`overlayPane`,attribution:null,bubblingPointerEvents:!0});addTo(e){return e.addLayer(this),this}remove(){return this.removeFrom(this._map||this._mapToAdd)}removeFrom(e){return e?.removeLayer(this),this}getPane(e){return this._map.getPane(e?this.options[e]||e:this.options.pane)}addInteractiveTarget(e){return this._map._targets[t(e)]=this,this}removeInteractiveTarget(e){return delete this._map._targets[t(e)],this}getAttribution(){return this.options.attribution}_layerAdd(e){let t=e.target;if(t.hasLayer(this)){if(this._map=t,this._zoomAnimated=t._zoomAnimated,this.getEvents){let e=this.getEvents();t.on(e,this),this.once(`remove`,()=>t.off(e,this))}this.onAdd(t),this.fire(`add`),t.fire(`layeradd`,{layer:this})}}};F.include({addLayer(e){if(!e._layerAdd)throw Error(`The provided object is not a Layer.`);let n=t(e);return this._layers[n]?this:(this._layers[n]=e,e._mapToAdd=this,e.beforeAdd&&e.beforeAdd(this),this.whenReady(e._layerAdd,e),this)},removeLayer(e){let n=t(e);return this._layers[n]?(this._loaded&&e.onRemove(this),delete this._layers[n],this._loaded&&(this.fire(`layerremove`,{layer:e}),e.fire(`remove`)),e._map=e._mapToAdd=null,this):this},hasLayer(e){return t(e)in this._layers},eachLayer(e,t){for(let n of Object.values(this._layers))e.call(t,n);return this},_addLayers(e){e=e?Array.isArray(e)?e:[e]:[];for(let t of e)this.addLayer(t)},_addZoomLimit(e){(!isNaN(e.options.maxZoom)||!isNaN(e.options.minZoom))&&(this._zoomBoundLayers[t(e)]=e,this._updateZoomLevels())},_removeZoomLimit(e){let n=t(e);this._zoomBoundLayers[n]&&(delete this._zoomBoundLayers[n],this._updateZoomLevels())},_updateZoomLevels(){let e=1/0,t=-1/0,n=this._getZoomSpan();for(let n of Object.values(this._zoomBoundLayers)){let r=n.options;e=Math.min(e,r.minZoom??1/0),t=Math.max(t,r.maxZoom??-1/0)}this._layersMaxZoom=t===-1/0?void 0:t,this._layersMinZoom=e===1/0?void 0:e,n!==this._getZoomSpan()&&this.fire(`zoomlevelschange`),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Nt=class extends V{initialize(e,t){s(this,t),this._layers={};for(let t of e??[])this.addLayer(t)}addLayer(e){let t=this.getLayerId(e);return this._layers[t]=e,this._map?.addLayer(e),this}removeLayer(e){let t=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[t]&&this._map.removeLayer(this._layers[t]),delete this._layers[t],this}hasLayer(e){let t=typeof e==`number`?e:this.getLayerId(e);return t in this._layers}clearLayers(){return this.eachLayer(this.removeLayer,this)}invoke(e,...t){for(let n of Object.values(this._layers))n[e]?.apply(n,t);return this}onAdd(e){this.eachLayer(e.addLayer,e)}onRemove(e){this.eachLayer(e.removeLayer,e)}eachLayer(e,t){for(let n of Object.values(this._layers))e.call(t,n);return this}getLayer(e){return this._layers[e]}getLayers(){let e=[];return this.eachLayer(e.push,e),e}setZIndex(e){return this.invoke(`setZIndex`,e)}getLayerId(e){return t(e)}},H=class extends Nt{addLayer(e){return this.hasLayer(e)?this:(e.addEventParent(this),Nt.prototype.addLayer.call(this,e),this.fire(`layeradd`,{layer:e}))}removeLayer(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),e.removeEventParent(this),Nt.prototype.removeLayer.call(this,e),this.fire(`layerremove`,{layer:e})):this}setStyle(e){return this.invoke(`setStyle`,e)}bringToFront(){return this.invoke(`bringToFront`)}bringToBack(){return this.invoke(`bringToBack`)}getBounds(){let e=new g;for(let t of Object.values(this._layers))e.extend(t.getBounds?t.getBounds():t.getLatLng());return e}},U=class extends f{static#_=this.setDefaultOptions({popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1});initialize(e){s(this,e)}createIcon(e){return this._createIcon(`icon`,e)}createShadow(e){return this._createIcon(`shadow`,e)}_createIcon(e,t){let n=this._getIconUrl(e);if(!n){if(e===`icon`)throw Error(`iconUrl not set in Icon options (see the docs).`);return null}let r=this._createImg(n,t&&t.tagName===`IMG`?t:null);return this._setIconStyles(r,e),(this.options.crossOrigin||this.options.crossOrigin===``)&&(r.crossOrigin=this.options.crossOrigin===!0?``:this.options.crossOrigin),r}_setIconStyles(e,t){let n=this.options,r=n[`${t}Size`];typeof r==`number`&&(r=[r,r]);let i=m.validate(r)&&new m(r),a=t===`shadow`&&n.shadowAnchor||n.iconAnchor||i&&i.divideBy(2,!0),o=m.validate(a)&&new m(a);e.className=`leaflet-marker-${t} ${n.className||``}`,o&&(e.style.marginLeft=`${-o.x}px`,e.style.marginTop=`${-o.y}px`),i&&(e.style.width=`${i.x}px`,e.style.height=`${i.y}px`)}_createImg(e,t){return t??=document.createElement(`img`),t.src=e,t}_getIconUrl(e){return x.retina&&this.options[`${e}RetinaUrl`]||this.options[`${e}Url`]}},Pt=class e extends U{static#_=this.setDefaultOptions({iconUrl:`marker-icon.png`,iconRetinaUrl:`marker-icon-2x.png`,shadowUrl:`marker-shadow.png`,iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]});_getIconUrl(t){e.imagePath||=this._detectIconPath();let n=U.prototype._getIconUrl.call(this,t);return n?(this.options.imagePath||e.imagePath)+n:null}_stripUrl(e){let t=function(e,t,n){let r=t.exec(e);return r&&r[n]};return e=t(e,/^url\((['"])?(.+)\1\)$/,2),e&&t(e,/^(.*)marker-icon\.png$/,1)}_detectIconPath(){let e=S(`div`,`leaflet-default-icon-path`,document.body),t=this._stripUrl(getComputedStyle(e).backgroundImage);if(document.body.removeChild(e),t)return t;let n=document.querySelector(`link[href$="leaflet.css"]`);return n?n.href.substring(0,n.href.length-11-1):``}},Ft=class extends R{initialize(e){this._marker=e}addHooks(){let e=this._marker._icon;this._draggable||=new ct(e,e,!0),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),e.classList.add(`leaflet-marker-draggable`)}removeHooks(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon?.classList.remove(`leaflet-marker-draggable`)}moved(){return this._draggable?._moved}_adjustPan(e){let t=this._marker,n=t._map,r=this._marker.options.autoPanSpeed,i=this._marker.options.autoPanPadding,a=T(t._icon),o=n.getPixelBounds(),s=n.getPixelOrigin(),c=new h(o.min._subtract(s).add(i),o.max._subtract(s).subtract(i));if(!c.contains(a)){let i=new m((Math.max(c.max.x,a.x)-c.max.x)/(o.max.x-c.max.x)-(Math.min(c.min.x,a.x)-c.min.x)/(o.min.x-c.min.x),(Math.max(c.max.y,a.y)-c.max.y)/(o.max.y-c.max.y)-(Math.min(c.min.y,a.y)-c.min.y)/(o.min.y-c.min.y)).multiplyBy(r);n.panBy(i,{animate:!1}),this._draggable._newPos._add(i),this._draggable._startPos._add(i),w(t._icon,this._draggable._newPos),this._onDrag(e),this._panRequest=requestAnimationFrame(this._adjustPan.bind(this,e))}}_onDragStart(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup?.(),this._marker.fire(`movestart`).fire(`dragstart`)}_onPreDrag(e){this._marker.options.autoPan&&(cancelAnimationFrame(this._panRequest),this._panRequest=requestAnimationFrame(this._adjustPan.bind(this,e)))}_onDrag(e){let t=this._marker,n=t._shadow,r=T(t._icon),i=t._map.layerPointToLatLng(r);n&&w(n,r),t._latlng=i,e.latlng=i,e.oldLatLng=this._oldLatLng,t.fire(`move`,e).fire(`drag`,e)}_onDragEnd(e){cancelAnimationFrame(this._panRequest),delete this._oldLatLng,this._marker.fire(`moveend`).fire(`dragend`,e)}},It=class extends V{static#_=this.setDefaultOptions({icon:new Pt,interactive:!0,keyboard:!0,title:``,alt:`Marker`,zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:`markerPane`,shadowPane:`shadowPane`,bubblingPointerEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10});initialize(e,t){s(this,t),this._latlng=new _(e)}onAdd(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation,this._zoomAnimated&&e.on(`zoomanim`,this._animateZoom,this),this._initIcon(),this.update()}onRemove(e){this.dragging?.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&e.off(`zoomanim`,this._animateZoom,this),this._removeIcon(),this._removeShadow()}getEvents(){return{zoom:this.update,viewreset:this.update}}getLatLng(){return this._latlng}setLatLng(e){let t=this._latlng;return this._latlng=new _(e),this.update(),this.fire(`move`,{oldLatLng:t,latlng:this._latlng})}setZIndexOffset(e){return this.options.zIndexOffset=e,this.update()}getIcon(){return this.options.icon}setIcon(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this}getElement(){return this._icon}update(){if(this._icon&&this._map){let e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}return this}_initIcon(){let e=this.options,t=`leaflet-zoom-${this._zoomAnimated?`animated`:`hide`}`,n=e.icon.createIcon(this._icon),r=!1;n!==this._icon&&(this._icon&&this._removeIcon(),r=!0,e.title&&(n.title=e.title),n.tagName===`IMG`&&(n.alt=e.alt??``)),n.classList.add(t),e.keyboard&&(n.tabIndex=`0`,n.setAttribute(`role`,`button`)),this._icon=n,e.riseOnHover&&this.on({pointerover:this._bringToFront,pointerout:this._resetZIndex}),this.options.autoPanOnFocus&&O(n,`focus`,this._panOnFocus,this);let i=e.icon.createShadow(this._shadow),a=!1;i!==this._shadow&&(this._removeShadow(),a=!0),i&&(i.classList.add(t),i.alt=``),this._shadow=i,e.opacity<1&&this._updateOpacity(),r&&this.getPane().appendChild(this._icon),this._initInteraction(),i&&a&&this.getPane(e.shadowPane).appendChild(this._shadow)}_removeIcon(){this.options.riseOnHover&&this.off({pointerover:this._bringToFront,pointerout:this._resetZIndex}),this.options.autoPanOnFocus&&A(this._icon,`focus`,this._panOnFocus,this),this._icon.remove(),this.removeInteractiveTarget(this._icon),this._icon=null}_removeShadow(){this._shadow?.remove(),this._shadow=null}_setPos(e){this._icon&&w(this._icon,e),this._shadow&&w(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()}_updateZIndex(e){this._icon&&(this._icon.style.zIndex=this._zIndex+e)}_animateZoom(e){let t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(t)}_initInteraction(){if(this.options.interactive&&(this._icon.classList.add(`leaflet-interactive`),this.addInteractiveTarget(this._icon),Ft)){let e=this.options.draggable;this.dragging&&(e=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Ft(this),e&&this.dragging.enable()}}setOpacity(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this}_updateOpacity(){let e=this.options.opacity;this._icon&&(this._icon.style.opacity=e),this._shadow&&(this._shadow.style.opacity=e)}_bringToFront(){this._updateZIndex(this.options.riseOffset)}_resetZIndex(){this._updateZIndex(0)}_panOnFocus(){let e=this._map;if(!e)return;let t=this.options.icon.options,n=t.iconSize?new m(t.iconSize):new m(0,0),r=t.iconAnchor?new m(t.iconAnchor):new m(0,0);e.panInside(this._latlng,{paddingTopLeft:r,paddingBottomRight:n.subtract(r)})}_getPopupAnchor(){return this.options.icon.options.popupAnchor}_getTooltipAnchor(){return this.options.icon.options.tooltipAnchor}},W=class extends V{static#_=this.setDefaultOptions({stroke:!0,color:`#3388ff`,weight:3,opacity:1,lineCap:`round`,lineJoin:`round`,dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:`evenodd`,interactive:!0,bubblingPointerEvents:!0});beforeAdd(e){this._renderer=e.getRenderer(this)}onAdd(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)}onRemove(){this._renderer._removePath(this)}redraw(){return this._map&&this._renderer._updatePath(this),this}setStyle(e){return s(this,e),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&e&&Object.hasOwn(e,`weight`)&&this._updateBounds()),this}bringToFront(){return this._renderer?._bringToFront(this),this}bringToBack(){return this._renderer?._bringToBack(this),this}getElement(){return this._path}_reset(){this._project(),this._update()}_clickTolerance(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}},Lt=class extends W{static#_=this.setDefaultOptions({fill:!0,radius:10});initialize(e,t){s(this,t),this._latlng=new _(e),this._radius=this.options.radius}setLatLng(e){let t=this._latlng;return this._latlng=new _(e),this.redraw(),this.fire(`move`,{oldLatLng:t,latlng:this._latlng})}getLatLng(){return this._latlng}setRadius(e){return this.options.radius=this._radius=e,this.redraw()}getRadius(){return this._radius}setStyle(e){let t=e?.radius??this._radius;return W.prototype.setStyle.call(this,e),this.setRadius(t),this}_project(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()}_updateBounds(){let e=this._radius,t=this._radiusY??e,n=this._clickTolerance(),r=[e+n,t+n];this._pxBounds=new h(this._point.subtract(r),this._point.add(r))}_update(){this._map&&this._updatePath()}_updatePath(){this._renderer._updateCircle(this)}_empty(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)}_containsPoint(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()}},Rt=class extends Lt{initialize(e,t){if(s(this,t),this._latlng=new _(e),isNaN(this.options.radius))throw Error(`Circle radius cannot be NaN`);this._mRadius=this.options.radius}setRadius(e){return this._mRadius=e,this.redraw()}getRadius(){return this._mRadius}getBounds(){let e=[this._radius,this._radiusY??this._radius];return new g(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))}setStyle=W.prototype.setStyle;_project(){let e=this._latlng.lng,t=this._latlng.lat,n=this._map,r=n.options.crs;if(r.distance===y.distance){let r=Math.PI/180,i=this._mRadius/y.R/r,a=n.project([t+i,e]),o=n.project([t-i,e]),s=a.add(o).divideBy(2),c=n.unproject(s).lat,l=Math.acos((Math.cos(i*r)-Math.sin(t*r)*Math.sin(c*r))/(Math.cos(t*r)*Math.cos(c*r)))/r;(isNaN(l)||l===0)&&(l=i/Math.cos(Math.PI/180*t)),this._point=s.subtract(n.getPixelOrigin()),this._radius=isNaN(l)?0:s.x-n.project([c,e-l]).x,this._radiusY=s.y-a.y}else{let e=r.unproject(r.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=Math.abs(this._point.x-n.latLngToLayerPoint(e).x)}this._updateBounds()}},zt=class extends W{static#_=this.setDefaultOptions({smoothFactor:1,noClip:!1});initialize(e,t){s(this,t),this._setLatLngs(e)}getLatLngs(){return this._latlngs}setLatLngs(e){return this._setLatLngs(e),this.redraw()}isEmpty(){return!this._latlngs.length}closestLayerPoint(e){e=new m(e);let t=1/0,n=null,r,i,a=Ct;for(let o of this._parts)for(let s=1,c=o.length;s<c;s++){r=o[s-1],i=o[s];let c=a(e,r,i,!0);c<t&&(t=c,n=a(e,r,i))}return n&&(n.distance=Math.sqrt(t)),n}getCenter(){if(!this._map)throw Error(`Must add layer to map before using getCenter()`);return wt(this._defaultShape(),this._map.options.crs)}getBounds(){return this._bounds}addLatLng(e,t){return t??=this._defaultShape(),e=new _(e),t.push(e),this._bounds.extend(e),this.redraw()}_setLatLngs(e){this._bounds=new g,this._latlngs=this._convertLatLngs(e)}_defaultShape(){return B(this._latlngs)?this._latlngs:this._latlngs[0]}_convertLatLngs(e){let t=[],n=B(e);for(let r=0,i=e.length;r<i;r++)n?(t[r]=new _(e[r]),this._bounds.extend(t[r])):t[r]=this._convertLatLngs(e[r]);return t}_project(){let e=new h;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,e),this._bounds.isValid()&&e.isValid()&&(this._rawPxBounds=e,this._updateBounds())}_updateBounds(){let e=this._clickTolerance(),t=new m(e,e);this._rawPxBounds&&(this._pxBounds=new h([this._rawPxBounds.min.subtract(t),this._rawPxBounds.max.add(t)]))}_projectLatlngs(e,t,n){let r=e[0]instanceof _;if(r){let r=e.map(e=>this._map.latLngToLayerPoint(e));r.forEach(e=>n.extend(e)),t.push(r)}else e.forEach(e=>this._projectLatlngs(e,t,n))}_clipPoints(){let e=this._renderer._bounds;if(this._parts=[],!this._pxBounds||!this._pxBounds.intersects(e))return;if(this.options.noClip){this._parts=this._rings;return}let t=this._parts,n,r,i,a,o,s,c;for(n=0,i=0,a=this._rings.length;n<a;n++)for(c=this._rings[n],r=0,o=c.length;r<o-1;r++)s=bt(c[r],c[r+1],e,r,!0),s&&(t[i]??=[],t[i].push(s[0]),(s[1]!==c[r+1]||r===o-2)&&(t[i].push(s[1]),i++))}_simplifyPoints(){let e=this._parts,t=this.options.smoothFactor;for(let n=0,r=e.length;n<r;n++)e[n]=pt(e[n],t)}_update(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())}_updatePath(){this._renderer._updatePoly(this)}_containsPoint(e,t){let n,r,i,a,o,s,c=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(n=0,a=this._parts.length;n<a;n++)for(s=this._parts[n],r=0,o=s.length,i=o-1;r<o;i=r++)if(!(!t&&r===0)&&mt(e,s[i],s[r])<=c)return!0;return!1}},Bt=class extends zt{static#_=this.setDefaultOptions({fill:!0});isEmpty(){return!this._latlngs.length||!this._latlngs[0].length}getCenter(){if(!this._map)throw Error(`Must add layer to map before using getCenter()`);return ut(this._defaultShape(),this._map.options.crs)}_convertLatLngs(e){let t=zt.prototype._convertLatLngs.call(this,e),n=t.length;return n>=2&&t[0]instanceof _&&t[0].equals(t[n-1])&&t.pop(),t}_setLatLngs(e){zt.prototype._setLatLngs.call(this,e),B(this._latlngs)&&(this._latlngs=[this._latlngs])}_defaultShape(){return B(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]}_clipPoints(){let e=this._renderer._bounds,t=this.options.weight,n=new m(t,t);if(e=new h(e.min.subtract(n),e.max.add(n)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(e))){if(this.options.noClip){this._parts=this._rings;return}for(let t of this._rings){let n=lt(t,e,!0);n.length&&this._parts.push(n)}}}_updatePath(){this._renderer._updatePoly(this,!0)}_containsPoint(e){let t=!1,n,r,i,a,o,s,c,l;if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(a=0,c=this._parts.length;a<c;a++)for(n=this._parts[a],o=0,l=n.length,s=l-1;o<l;s=o++)r=n[o],i=n[s],r.y>e.y!=i.y>e.y&&e.x<(i.x-r.x)*(e.y-r.y)/(i.y-r.y)+r.x&&(t=!t);return t||zt.prototype._containsPoint.call(this,e,!0)}},G=class extends H{initialize(e,t){s(this,t),this._layers={},e&&this.addData(e)}addData(e){let t=Array.isArray(e)?e:e.features;if(t){for(let e of t)(e.geometries||e.geometry||e.features||e.coordinates)&&this.addData(e);return this}let n=this.options;if(n.filter&&!n.filter(e))return this;let r=Vt(e,n);return r?(r.feature=Jt(e),r.defaultOptions=r.options,this.resetStyle(r),n.onEachFeature&&n.onEachFeature(e,r),this.addLayer(r)):this}resetStyle(e){return e===void 0?this.eachLayer(this.resetStyle,this):(e.options=Object.create(e.defaultOptions),this._setLayerStyle(e,this.options.style),this)}setStyle(e){return this.eachLayer(t=>this._setLayerStyle(t,e))}_setLayerStyle(e,t){e.setStyle&&(typeof t==`function`&&(t=t(e.feature)),e.setStyle(t))}};function Vt(e,t){let n=e.type===`Feature`?e.geometry:e,r=n?.coordinates,i=[],a=t?.pointToLayer,o=t?.coordsToLatLng??Ut,s,c;if(!r&&!n)return null;switch(n.type){case`Point`:return s=o(r),Ht(a,e,s,t);case`MultiPoint`:for(let n of r)s=o(n),i.push(Ht(a,e,s,t));return new H(i);case`LineString`:case`MultiLineString`:return c=Wt(r,n.type===`LineString`?0:1,o),new zt(c,t);case`Polygon`:case`MultiPolygon`:return c=Wt(r,n.type===`Polygon`?1:2,o),new Bt(c,t);case`GeometryCollection`:for(let r of n.geometries){let n=Vt({geometry:r,type:`Feature`,properties:e.properties},t);n&&i.push(n)}return new H(i);case`FeatureCollection`:for(let e of n.features){let n=Vt(e,t);n&&i.push(n)}return new H(i);default:throw Error(`Invalid GeoJSON object.`)}}function Ht(e,t,n,r){return e?e(t,n):new It(n,r?.markersInheritOptions&&r)}function Ut(e){return new _(e[1],e[0],e[2])}function Wt(e,t,n){return e.map(e=>t?Wt(e,t-1,n):(n||Ut)(e))}function Gt(e,t){return e=new _(e),e.alt===void 0?[a(e.lng,t),a(e.lat,t)]:[a(e.lng,t),a(e.lat,t),a(e.alt,t)]}function Kt(e,t,n,r){let i=e.map(e=>t?Kt(e,B(e)?0:t-1,n,r):Gt(e,r));return!t&&n&&i.length>0&&i.push(i[0].slice()),i}function qt(e,t){return e.feature?{...e.feature,geometry:t}:Jt(t)}function Jt(e){return e.type===`Feature`||e.type===`FeatureCollection`?e:{type:`Feature`,properties:{},geometry:e}}const Yt={toGeoJSON(e){return qt(this,{type:`Point`,coordinates:Gt(this.getLatLng(),e)})}};It.include(Yt),Rt.include(Yt),Lt.include(Yt),zt.include({toGeoJSON(e){let t=!B(this._latlngs),n=Kt(this._latlngs,t?1:0,!1,e);return qt(this,{type:`${t?`Multi`:``}LineString`,coordinates:n})}}),Bt.include({toGeoJSON(e){let t=!B(this._latlngs),n=t&&!B(this._latlngs[0]),r=Kt(this._latlngs,n?2:t?1:0,!0,e);return t||(r=[r]),qt(this,{type:`${n?`Multi`:``}Polygon`,coordinates:r})}}),Nt.include({toMultiPoint(e){let t=[];return this.eachLayer(n=>{t.push(n.toGeoJSON(e).geometry.coordinates)}),qt(this,{type:`MultiPoint`,coordinates:t})},toGeoJSON(e){let t=this.feature?.geometry?.type;if(t===`MultiPoint`)return this.toMultiPoint(e);let n=t===`GeometryCollection`,r=[];return this.eachLayer(t=>{if(t.toGeoJSON){let i=t.toGeoJSON(e);if(n)r.push(i.geometry);else{let e=Jt(i);e.type===`FeatureCollection`?r.push.apply(r,e.features):r.push(e)}}}),n?qt(this,{geometries:r,type:`GeometryCollection`}):{type:`FeatureCollection`,features:r}}});var Xt=class extends V{static#_=this.setDefaultOptions({padding:.1,continuous:!1});initialize(e){s(this,e)}onAdd(){this._container||(this._initContainer(),this._container.classList.add(`leaflet-zoom-animated`)),this.getPane().appendChild(this._container),this._resizeContainer(),this._onMoveEnd()}onRemove(){this._destroyContainer()}getEvents(){let e={viewreset:this._reset,zoom:this._onZoom,moveend:this._onMoveEnd,zoomend:this._onZoomEnd};return this._zoomAnimated&&(e.zoomanim=this._onAnimZoom),this.options.continuous&&(e.move=this._onMoveEnd),e}_onAnimZoom(e){this._updateTransform(e.center,e.zoom)}_onZoom(){this._updateTransform(this._map.getCenter(),this._map.getZoom())}_updateTransform(e,t){let n=this._map.getZoomScale(t,this._zoom),r=this._map.getSize().multiplyBy(.5+this.options.padding),i=this._map.project(this._center,t),a=r.multiplyBy(-n).add(i).subtract(this._map._getNewPixelOrigin(e,t));C(this._container,a,n)}_onMoveEnd(e){let t=this.options.padding,n=this._map.getSize(),r=this._map.containerPointToLayerPoint(n.multiplyBy(-t)).round();this._bounds=new h(r,r.add(n.multiplyBy(1+t*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom(),this._updateTransform(this._center,this._zoom),this._onSettled(e),this._resizeContainer()}_reset(){this._onSettled(),this._updateTransform(this._center,this._zoom),this._onViewReset()}_initContainer(){this._container=S(`div`)}_destroyContainer(){A(this._container),this._container.remove(),delete this._container}_resizeContainer(){let e=this.options.padding,t=this._map.getSize().multiplyBy(1+e*2).round();return this._container.style.width=`${t.x}px`,this._container.style.height=`${t.y}px`,t}_onZoomEnd(){}_onViewReset(){}_onSettled(){}},Zt=class extends V{static#_=this.setDefaultOptions({opacity:1,alt:``,interactive:!1,crossOrigin:!1,errorOverlayUrl:``,zIndex:1,className:``,decoding:`auto`});initialize(e,t,n){this._url=e,this._bounds=new g(t),s(this,n)}onAdd(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(this._image.classList.add(`leaflet-interactive`),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()}onRemove(){this._image.remove(),this.options.interactive&&this.removeInteractiveTarget(this._image)}setOpacity(e){return this.options.opacity=e,this._image&&this._updateOpacity(),this}setStyle(e){return e.opacity&&this.setOpacity(e.opacity),this}bringToFront(){return this._map&&ye(this._image),this}bringToBack(){return this._map&&be(this._image),this}setUrl(e){return this._url=e,this._image&&(this._image.src=e),this}setBounds(e){return this._bounds=new g(e),this._map&&this._reset(),this}getEvents(){let e={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e}setZIndex(e){return this.options.zIndex=e,this._updateZIndex(),this}getBounds(){return this._bounds}getElement(){return this._image}_initImage(){let e=this._url.tagName===`IMG`,t=this._image=e?this._url:S(`img`);if(t.classList.add(`leaflet-image-layer`),this._zoomAnimated&&t.classList.add(`leaflet-zoom-animated`),this.options.className&&t.classList.add(...o(this.options.className)),t.onselectstart=i,t.onpointermove=i,t.onload=this.fire.bind(this,`load`),t.onerror=this._overlayOnError.bind(this),(this.options.crossOrigin||this.options.crossOrigin===``)&&(t.crossOrigin=this.options.crossOrigin===!0?``:this.options.crossOrigin),t.decoding=this.options.decoding,this.options.zIndex&&this._updateZIndex(),e){this._url=t.src;return}t.src=this._url,t.alt=this.options.alt}_animateZoom(e){let t=this._map.getZoomScale(e.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,e.zoom,e.center).min;C(this._image,n,t)}_reset(){let e=this._image,t=new h(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=t.getSize();w(e,t.min),e.style.width=`${n.x}px`,e.style.height=`${n.y}px`}_updateOpacity(){this._image.style.opacity=this.options.opacity}_updateZIndex(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)}_overlayOnError(){this.fire(`error`);let e=this.options.errorOverlayUrl;e&&this._url!==e&&(this._url=e,this._image.src=e)}getCenter(){return this._bounds.getCenter()}},Qt=class extends Zt{static#_=this.setDefaultOptions({autoplay:!0,controls:!1,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0});_initImage(){let e=this._url.tagName===`VIDEO`,t=this._image=e?this._url:S(`video`);if(t.classList.add(`leaflet-image-layer`),this._zoomAnimated&&t.classList.add(`leaflet-zoom-animated`),this.options.className&&t.classList.add(...o(this.options.className)),O(t,`pointerdown`,e=>{t.controls&&j(e)}),t.onloadeddata=this.fire.bind(this,`load`),e){let e=t.getElementsByTagName(`source`),n=e.map(e=>e.src);this._url=e.length>0?n:[t.src];return}Array.isArray(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.hasOwn(t.style,`objectFit`)&&(t.style.objectFit=`fill`),t.autoplay=!!this.options.autoplay,t.controls=!!this.options.controls,t.loop=!!this.options.loop,t.muted=!!this.options.muted,t.playsInline=!!this.options.playsInline;for(let e of this._url){let n=S(`source`);n.src=e,t.appendChild(n)}}},$t=class extends Zt{_initImage(){let e=this._image=this._url;e.classList.add(`leaflet-image-layer`),this._zoomAnimated&&e.classList.add(`leaflet-zoom-animated`),this.options.className&&e.classList.add(...o(this.options.className)),e.onselectstart=i,e.onpointermove=i}},K=class extends V{static#_=this.setDefaultOptions({interactive:!1,offset:[0,0],className:``,pane:void 0,content:``});initialize(e,t){e instanceof _||Array.isArray(e)?(this._latlng=new _(e),s(this,t)):(s(this,e),this._source=t),this.options.content&&(this._content=this.options.content)}openOn(e){return e=arguments.length?e:this._source._map,e.hasLayer(this)||e.addLayer(this),this}close(){return this._map?.removeLayer(this),this}toggle(e){return this._map?this.close():(arguments.length?this._source=e:e=this._source,this._prepareOpen(),this.openOn(e._map)),this}onAdd(e){this._zoomAnimated=e._zoomAnimated,this._container||this._initLayout(),e._fadeAnimated&&(this._container.style.opacity=0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),e._fadeAnimated&&(this._container.style.opacity=1),this.bringToFront(),this.options.interactive&&(this._container.classList.add(`leaflet-interactive`),this.addInteractiveTarget(this._container))}onRemove(e){e._fadeAnimated?(this._container.style.opacity=0,this._removeTimeout=setTimeout(()=>this._container.remove(),200)):this._container.remove(),this.options.interactive&&(this._container.classList.remove(`leaflet-interactive`),this.removeInteractiveTarget(this._container))}getLatLng(){return this._latlng}setLatLng(e){return this._latlng=new _(e),this._map&&(this._updatePosition(),this._adjustPan()),this}getContent(){return this._content}setContent(e){return this._content=e,this.update(),this}getElement(){return this._container}update(){this._map&&(this._container.style.visibility=`hidden`,this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility=``,this._adjustPan())}getEvents(){let e={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e}isOpen(){return!!this._map&&this._map.hasLayer(this)}bringToFront(){return this._map&&ye(this._container),this}bringToBack(){return this._map&&be(this._container),this}_prepareOpen(e){let t=this._source;if(!t._map)return!1;if(t instanceof H){t=null;for(let e of Object.values(this._source._layers))if(e._map){t=e;break}if(!t)return!1;this._source=t}if(!e)if(t.getCenter)e=t.getCenter();else if(t.getLatLng)e=t.getLatLng();else if(t.getBounds)e=t.getBounds().getCenter();else throw Error(`Unable to get source layer LatLng.`);return this.setLatLng(e),this._map&&this.update(),!0}_updateContent(){if(!this._content)return;let e=this._contentNode,t=typeof this._content==`function`?this._content(this._source??this):this._content;if(typeof t==`string`)e.innerHTML=t;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(t)}this.fire(`contentupdate`)}_updatePosition(){if(!this._map)return;let e=this._map.latLngToLayerPoint(this._latlng),t=this._getAnchor(),n=new m(this.options.offset);this._zoomAnimated?w(this._container,e.add(t)):n=n.add(e).add(t);let r=this._containerBottom=-n.y,i=this._containerLeft=-Math.round(this._containerWidth/2)+n.x;this._container.style.bottom=`${r}px`,this._container.style.left=`${i}px`}_getAnchor(){return[0,0]}};F.include({_initOverlay(e,t,n,r){let i=t;return i instanceof e||(i=new e(r).setContent(t)),n&&i.setLatLng(n),i}}),V.include({_initOverlay(e,t,n,r){let i=n;return i instanceof e?(s(i,r),i._source=this):(i=t&&!r?t:new e(r,this),i.setContent(n)),i}});var en=class extends K{static#_=this.setDefaultOptions({pane:`popupPane`,offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,closeButtonLabel:`Close popup`,autoClose:!0,closeOnEscapeKey:!0,className:``,trackResize:!0});openOn(e){return e=arguments.length?e:this._source._map,!e.hasLayer(this)&&e._popup&&e._popup.options.autoClose&&e.removeLayer(e._popup),e._popup=this,K.prototype.openOn.call(this,e)}onAdd(e){K.prototype.onAdd.call(this,e),e.fire(`popupopen`,{popup:this}),this._source&&(this._source.fire(`popupopen`,{popup:this},!0),this._source instanceof W||this._source.on(`preclick`,j))}onRemove(e){K.prototype.onRemove.call(this,e),e.fire(`popupclose`,{popup:this}),this._source&&(this._source.fire(`popupclose`,{popup:this},!0),this._source instanceof W||this._source.off(`preclick`,j))}getEvents(){let e=K.prototype.getEvents.call(this);return(this.options.closeOnClick??this._map.options.closePopupOnClick)&&(e.preclick=this.close),this.options.keepInView&&(e.moveend=this._adjustPan),e}_initLayout(){let e=`leaflet-popup`,t=this._container=S(`div`,`${e} ${this.options.className||``} leaflet-zoom-animated`),n=this._wrapper=S(`div`,`${e}-content-wrapper`,t);if(this._contentNode=S(`div`,`${e}-content`,n),Ye(t),Je(this._contentNode),O(t,`contextmenu`,j),this._tipContainer=S(`div`,`${e}-tip-container`,t),this._tip=S(`div`,`${e}-tip`,this._tipContainer),this.options.closeButton){let n=this._closeButton=S(`a`,`${e}-close-button`,t);n.setAttribute(`role`,`button`),n.setAttribute(`aria-label`,this.options.closeButtonLabel),n.href=`#close`,n.innerHTML=`<span aria-hidden="true">&#215;</span>`,O(n,`click`,e=>{M(e),this.close()})}this.options.trackResize&&(this._resizeObserver=new ResizeObserver(e=>{this._map&&(this._containerWidth=e[0]?.contentRect?.width,this._containerHeight=e[0]?.contentRect?.height,this._updateLayout(),this._updatePosition(),this._adjustPan())}),this._resizeObserver.observe(this._contentNode))}_updateLayout(){let e=this._contentNode,t=e.style;t.maxWidth=`${this.options.maxWidth}px`,t.minWidth=`${this.options.minWidth}px`;let n=this._containerHeight??e.offsetHeight,r=this.options.maxHeight,i=`leaflet-popup-scrolled`;r&&n>r?(t.height=`${r}px`,e.classList.add(i)):e.classList.remove(i),this._containerWidth=this._container.offsetWidth,this._containerHeight=this._container.offsetHeight}_animateZoom(e){let t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),n=this._getAnchor();w(this._container,t.add(n))}_adjustPan(){if(!this.options.autoPan)return;if(this._map._panAnim?.stop(),this._autopanning){this._autopanning=!1;return}let e=this._map,t=parseInt(getComputedStyle(this._container).marginBottom,10)||0,n=this._containerHeight+t,r=this._containerWidth,i=new m(this._containerLeft,-n-this._containerBottom);i._add(T(this._container));let a=e.layerPointToContainerPoint(i),o=new m(this.options.autoPanPadding),s=new m(this.options.autoPanPaddingTopLeft??o),c=new m(this.options.autoPanPaddingBottomRight??o),l=e.getSize(),u=0,d=0;a.x+r+c.x>l.x&&(u=a.x+r-l.x+c.x),a.x-u-s.x<0&&(u=a.x-s.x),a.y+n+c.y>l.y&&(d=a.y+n-l.y+c.y),a.y-d-s.y<0&&(d=a.y-s.y),(u||d)&&(this.options.keepInView&&(this._autopanning=!0),e.fire(`autopanstart`).panBy([u,d]))}_getAnchor(){return new m(this._source?._getPopupAnchor?this._source._getPopupAnchor():[0,0])}};F.mergeOptions({closePopupOnClick:!0}),F.include({openPopup(e,t,n){return this._initOverlay(en,e,t,n).openOn(this),this},closePopup(e){return e=arguments.length?e:this._popup,e?.close(),this}}),V.include({bindPopup(e,t){return this._popup=this._initOverlay(en,this._popup,e,t),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup(e){return this._popup&&(this instanceof H||(this._popup._source=this),this._popup._prepareOpen(e||this._latlng)&&this._popup.openOn(this._map)),this},closePopup(){return this._popup?.close(),this},togglePopup(){return this._popup?.toggle(this),this},isPopupOpen(){return this._popup?.isOpen()??!1},setPopupContent(e){return this._popup?.setContent(e),this},getPopup(){return this._popup},_openPopup(e){if(!this._popup||!this._map)return;N(e);let t=e.propagatedFrom??e.target;if(this._popup._source===t&&!(t instanceof W)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(e.latlng);return}this._popup._source=t,this.openPopup(e.latlng)},_movePopup(e){this._popup.setLatLng(e.latlng)},_onKeyPress(e){e.originalEvent.code===`Enter`&&this._openPopup(e)}});var tn=class extends K{static#_=this.setDefaultOptions({pane:`tooltipPane`,offset:[0,0],direction:`auto`,permanent:!1,sticky:!1,opacity:.9});onAdd(e){K.prototype.onAdd.call(this,e),this.setOpacity(this.options.opacity),e.fire(`tooltipopen`,{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire(`tooltipopen`,{tooltip:this},!0))}onRemove(e){K.prototype.onRemove.call(this,e),e.fire(`tooltipclose`,{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire(`tooltipclose`,{tooltip:this},!0))}getEvents(){let e=K.prototype.getEvents.call(this);return this.options.permanent||(e.preclick=this.close),e}_initLayout(){let e=`leaflet-tooltip`,n=`${e} ${this.options.className||``} leaflet-zoom-${this._zoomAnimated?`animated`:`hide`}`;this._contentNode=this._container=S(`div`,n),this._container.setAttribute(`role`,`tooltip`),this._container.setAttribute(`id`,`leaflet-tooltip-${t(this)}`)}_updateLayout(){}_adjustPan(){}_setPosition(e){let t,n,r=this.options.direction,i=this._map,a=this._container,o=i.latLngToContainerPoint(i.getCenter()),s=i.layerPointToContainerPoint(e),c=a.offsetWidth,l=a.offsetHeight,u=new m(this.options.offset),d=this._getAnchor();r===`top`?(t=c/2,n=l):r===`bottom`?(t=c/2,n=0):r===`center`?(t=c/2,n=l/2):r===`right`?(t=0,n=l/2):r===`left`?(t=c,n=l/2):s.x<o.x?(r=`right`,t=0,n=l/2):(r=`left`,t=c+(u.x+d.x)*2,n=l/2),e=e.subtract(new m(t,n,!0)).add(u).add(d),a.classList.remove(`leaflet-tooltip-right`,`leaflet-tooltip-left`,`leaflet-tooltip-top`,`leaflet-tooltip-bottom`),a.classList.add(`leaflet-tooltip-${r}`),w(a,e)}_updatePosition(){let e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)}setOpacity(e){this.options.opacity=e,this._container&&(this._container.style.opacity=e)}_animateZoom(e){let t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(t)}_getAnchor(){return new m(this._source?._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}};F.include({openTooltip(e,t,n){return this._initOverlay(tn,e,t,n).openOn(this),this},closeTooltip(e){return e.close(),this}}),V.include({bindTooltip(e,t){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(tn,this._tooltip,e,t),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions(e){if(!e&&this._tooltipHandlersAdded)return;let t=e?`off`:`on`,n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.pointerover=this._openTooltip,n.pointerout=this.closeTooltip,n.click=this._openTooltip,this._map?this._addFocusListeners(e):n.add=()=>this._addFocusListeners(e)),this._tooltip.options.sticky&&(n.pointermove=this._moveTooltip),this[t](n),this._tooltipHandlersAdded=!e},openTooltip(e){return this._tooltip&&(this instanceof H||(this._tooltip._source=this),this._tooltip._prepareOpen(e)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip(){if(this._tooltip)return this._tooltip.close()},toggleTooltip(){return this._tooltip?.toggle(this),this},isTooltipOpen(){return this._tooltip.isOpen()},setTooltipContent(e){return this._tooltip?.setContent(e),this},getTooltip(){return this._tooltip},_addFocusListeners(e){this.getElement?this._addFocusListenersOnLayer(this,e):this.eachLayer&&this.eachLayer(t=>this._addFocusListenersOnLayer(t,e),this)},_addFocusListenersOnLayer(e,t){let n=typeof e.getElement==`function`&&e.getElement();if(n){let r=t?`off`:`on`;t||(n._leaflet_focus_handler&&A(n,`focus`,n._leaflet_focus_handler,this),n._leaflet_focus_handler=()=>{this._tooltip&&(this._tooltip._source=e,this.openTooltip())}),n._leaflet_focus_handler&&P[r](n,`focus`,n._leaflet_focus_handler,this),P[r](n,`blur`,this.closeTooltip,this),t&&delete n._leaflet_focus_handler}},_setAriaDescribedByOnLayer(e){let t=typeof e.getElement==`function`&&e.getElement();t?.setAttribute?.(`aria-describedby`,this._tooltip._container.id)},_openTooltip(e){if(!(!this._tooltip||!this._map)){if(this._map.dragging?.moving()){e.type===`add`&&!this._moveEndOpensTooltip&&(this._moveEndOpensTooltip=!0,this._map.once(`moveend`,()=>{this._moveEndOpensTooltip=!1,this._openTooltip(e)}));return}this._tooltip._source=e.propagatedFrom??e.target,this.openTooltip(this._tooltip.options.sticky?e.latlng:void 0)}},_moveTooltip(e){let t=e.latlng,n,r;this._tooltip.options.sticky&&e.originalEvent&&(n=this._map.pointerEventToContainerPoint(e.originalEvent),r=this._map.containerPointToLayerPoint(n),t=this._map.layerPointToLatLng(r)),this._tooltip.setLatLng(t)}});var nn=class extends U{static#_=this.setDefaultOptions({iconSize:[12,12],html:!1,bgPos:null,className:`leaflet-div-icon`});createIcon(e){let t=e&&e.tagName===`DIV`?e:document.createElement(`div`),n=this.options;if(n.html instanceof Element?(t.replaceChildren(),t.appendChild(n.html)):t.innerHTML=n.html===!1?``:n.html,n.bgPos){let e=new m(n.bgPos);t.style.backgroundPosition=`${-e.x}px ${-e.y}px`}return this._setIconStyles(t,`icon`),t}createShadow(){return null}};U.Default=Pt;var rn=class extends V{static#_=this.setDefaultOptions({tileSize:256,opacity:1,updateWhenIdle:x.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:`tilePane`,className:``,keepBuffer:2});initialize(e){s(this,e)}onAdd(){this._initContainer(),this._levels={},this._tiles={},this._resetView()}beforeAdd(e){e._addZoomLimit(this)}onRemove(e){this._removeAllTiles(),this._container.remove(),e._removeZoomLimit(this),this._container=null,this._tileZoom=void 0,clearTimeout(this._pruneTimeout)}bringToFront(){return this._map&&(ye(this._container),this._setAutoZIndex(Math.max)),this}bringToBack(){return this._map&&(be(this._container),this._setAutoZIndex(Math.min)),this}getContainer(){return this._container}setOpacity(e){return this.options.opacity=e,this._updateOpacity(),this}setZIndex(e){return this.options.zIndex=e,this._updateZIndex(),this}isLoading(){return this._loading}redraw(){if(this._map){this._removeAllTiles();let e=this._clampZoom(this._map.getZoom());e!==this._tileZoom&&(this._tileZoom=e,this._updateLevels()),this._update()}return this}getEvents(){let e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||=n(this._onMoveEnd,this.options.updateInterval,this),e.move=this._onMove),this._zoomAnimated&&(e.zoomanim=this._animateZoom),e}createTile(){return document.createElement(`div`)}getTileSize(){let e=this.options.tileSize;return e instanceof m?e:new m(e,e)}_updateZIndex(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)}_setAutoZIndex(e){let t=this.getPane().children,n=-e(-1/0,1/0);for(let r of t){let t=r.style.zIndex;r!==this._container&&t&&(n=e(n,+t))}isFinite(n)&&(this.options.zIndex=n+e(-1,1),this._updateZIndex())}_updateOpacity(){if(!this._map)return;this._container.style.opacity=this.options.opacity;let e=+new Date,t=!1,n=!1;for(let r of Object.values(this._tiles??{})){if(!r.current||!r.loaded)continue;let i=Math.min(1,(e-r.loaded)/200);r.el.style.opacity=i,i<1?t=!0:(r.active?n=!0:this._onOpaqueTile(r),r.active=!0)}n&&!this._noPrune&&this._pruneTiles(),t&&(cancelAnimationFrame(this._fadeFrame),this._fadeFrame=requestAnimationFrame(this._updateOpacity.bind(this)))}_onOpaqueTile(){}_initContainer(){this._container||(this._container=S(`div`,`leaflet-layer ${this.options.className??``}`),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))}_updateLevels(){let e=this._tileZoom,t=this.options.maxZoom;if(e===void 0)return;for(let n of Object.keys(this._levels))n=Number(n),this._levels[n].el.children.length||n===e?(this._levels[n].el.style.zIndex=t-Math.abs(e-n),this._onUpdateLevel(n)):(this._levels[n].el.remove(),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);let n=this._levels[e],r=this._map;return n||(n=this._levels[e]={},n.el=S(`div`,`leaflet-tile-container leaflet-zoom-animated`,this._container),n.el.style.zIndex=t,n.origin=r.project(r.unproject(r.getPixelOrigin()),e).round(),n.zoom=e,this._setZoomTransform(n,r.getCenter(),r.getZoom()),i(n.el.offsetWidth),this._onCreateLevel(n)),this._level=n,n}_onUpdateLevel(){}_onRemoveLevel(){}_onCreateLevel(){}_pruneTiles(){if(!this._map)return;let e=this._map.getZoom();if(e>this.options.maxZoom||e<this.options.minZoom){this._removeAllTiles();return}for(let e of Object.values(this._tiles))e.retain=e.current;for(let e of Object.values(this._tiles))if(e.current&&!e.active){let t=e.coords;this._retainParent(t.x,t.y,t.z,t.z-5)||this._retainChildren(t.x,t.y,t.z,t.z+2)}for(let[e,t]of Object.entries(this._tiles))t.retain||this._removeTile(e)}_removeTilesAtZoom(e){for(let[t,n]of Object.entries(this._tiles))n.coords.z===e&&this._removeTile(t)}_removeAllTiles(){for(let e of Object.keys(this._tiles))this._removeTile(e)}_invalidateAll(){for(let e of Object.keys(this._levels))this._levels[e].el.remove(),this._onRemoveLevel(Number(e)),delete this._levels[e];this._removeAllTiles(),this._tileZoom=void 0}_retainParent(e,t,n,r){let i=Math.floor(e/2),a=Math.floor(t/2),o=n-1,s=new m(+i,+a);s.z=+o;let c=this._tileCoordsToKey(s),l=this._tiles[c];return l?.active?(l.retain=!0,!0):(l?.loaded&&(l.retain=!0),o>r?this._retainParent(i,a,o,r):!1)}_retainChildren(e,t,n,r){for(let i=2*e;i<2*e+2;i++)for(let e=2*t;e<2*t+2;e++){let t=new m(i,e);t.z=n+1;let a=this._tileCoordsToKey(t),o=this._tiles[a];if(o?.active){o.retain=!0;continue}else o?.loaded&&(o.retain=!0);n+1<r&&this._retainChildren(i,e,n+1,r)}}_resetView(e){let t=e&&(e.pinch||e.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),t,t)}_animateZoom(e){this._setView(e.center,e.zoom,!0,e.noUpdate)}_clampZoom(e){let t=this.options;return t.minNativeZoom!==void 0&&e<t.minNativeZoom?t.minNativeZoom:t.maxNativeZoom!==void 0&&t.maxNativeZoom<e?t.maxNativeZoom:e}_setView(e,t,n,r){let i=Math.round(t);i=this.options.maxZoom!==void 0&&i>this.options.maxZoom||this.options.minZoom!==void 0&&i<this.options.minZoom?void 0:this._clampZoom(i);let a=this.options.updateWhenZooming&&i!==this._tileZoom;(!r||a)&&(this._tileZoom=i,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),i!==void 0&&this._update(e),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(e,t)}_setZoomTransforms(e,t){for(let n of Object.values(this._levels))this._setZoomTransform(n,e,t)}_setZoomTransform(e,t,n){let r=this._map.getZoomScale(n,e.zoom),i=e.origin.multiplyBy(r).subtract(this._map._getNewPixelOrigin(t,n)).round();C(e.el,i,r)}_resetGrid(){let e=this._map,t=e.options.crs,n=this._tileSize=this.getTileSize(),r=this._tileZoom,i=this._map.getPixelWorldBounds(this._tileZoom);i&&(this._globalTileRange=this._pxBoundsToTileRange(i)),this._wrapX=t.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,t.wrapLng[0]],r).x/n.x),Math.ceil(e.project([0,t.wrapLng[1]],r).x/n.y)],this._wrapY=t.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([t.wrapLat[0],0],r).y/n.x),Math.ceil(e.project([t.wrapLat[1],0],r).y/n.y)]}_onMoveEnd(){!this._map||this._map._animatingZoom||this._update()}_getTiledPixelBounds(e){let t=this._map,n=t._animatingZoom?Math.max(t._animateToZoom,t.getZoom()):t.getZoom(),r=t.getZoomScale(n,this._tileZoom),i=t.project(e,this._tileZoom).floor(),a=t.getSize().divideBy(r*2);return new h(i.subtract(a),i.add(a))}_update(e){let t=this._map;if(!t)return;let n=this._clampZoom(t.getZoom());if(e===void 0&&(e=t.getCenter()),this._tileZoom===void 0)return;let r=this._getTiledPixelBounds(e),i=this._pxBoundsToTileRange(r),a=i.getCenter(),o=[],s=this.options.keepBuffer,c=new h(i.getBottomLeft().subtract([s,-s]),i.getTopRight().add([s,-s]));if(!(isFinite(i.min.x)&&isFinite(i.min.y)&&isFinite(i.max.x)&&isFinite(i.max.y)))throw Error(`Attempted to load an infinite number of tiles`);for(let e of Object.values(this._tiles)){let t=e.coords;(t.z!==this._tileZoom||!c.contains(new m(t.x,t.y)))&&(e.current=!1)}if(Math.abs(n-this._tileZoom)>1){this._setView(e,n);return}for(let e=i.min.y;e<=i.max.y;e++)for(let t=i.min.x;t<=i.max.x;t++){let n=new m(t,e);if(n.z=this._tileZoom,!this._isValidTile(n))continue;let r=this._tiles[this._tileCoordsToKey(n)];r?r.current=!0:o.push(n)}if(o.sort((e,t)=>e.distanceTo(a)-t.distanceTo(a)),o.length!==0){this._loading||(this._loading=!0,this.fire(`loading`));let e=document.createDocumentFragment();for(let t of o)this._addTile(t,e);this._level.el.appendChild(e)}}_isValidTile(e){let t=this._map.options.crs;if(!t.infinite){let n=this._globalTileRange;if(!t.wrapLng&&(e.x<n.min.x||e.x>n.max.x)||!t.wrapLat&&(e.y<n.min.y||e.y>n.max.y))return!1}if(!this.options.bounds)return!0;let n=this._tileCoordsToBounds(e);return new g(this.options.bounds).overlaps(n)}_keyToBounds(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))}_tileCoordsToNwSe(e){let t=this._map,n=this.getTileSize(),r=e.scaleBy(n),i=r.add(n),a=t.unproject(r,e.z),o=t.unproject(i,e.z);return[a,o]}_tileCoordsToBounds(e){let t=this._tileCoordsToNwSe(e),n=new g(t[0],t[1]);return this.options.noWrap||(n=this._map.wrapLatLngBounds(n)),n}_tileCoordsToKey(e){return`${e.x}:${e.y}:${e.z}`}_keyToTileCoords(e){let t=e.split(`:`),n=new m(+t[0],+t[1]);return n.z=+t[2],n}_removeTile(e){let t=this._tiles[e];t&&(t.el.remove(),delete this._tiles[e],this.fire(`tileunload`,{tile:t.el,coords:this._keyToTileCoords(e)}))}_initTile(e){e.classList.add(`leaflet-tile`);let t=this.getTileSize();e.style.width=`${t.x}px`,e.style.height=`${t.y}px`,e.onselectstart=i,e.onpointermove=i}_addTile(e,t){let n=this._getTilePos(e),r=this._tileCoordsToKey(e),i=this.createTile(this._wrapCoords(e),this._tileReady.bind(this,e));this._initTile(i),this.createTile.length<2&&requestAnimationFrame(this._tileReady.bind(this,e,null,i)),w(i,n),this._tiles[r]={el:i,coords:e,current:!0},t.appendChild(i),this.fire(`tileloadstart`,{tile:i,coords:e})}_tileReady(e,t,n){t&&this.fire(`tileerror`,{error:t,tile:n,coords:e});let r=this._tileCoordsToKey(e);n=this._tiles[r],n&&(n.loaded=+new Date,this._map._fadeAnimated?(n.el.style.opacity=0,cancelAnimationFrame(this._fadeFrame),this._fadeFrame=requestAnimationFrame(this._updateOpacity.bind(this))):(n.active=!0,this._pruneTiles()),t||(n.el.classList.add(`leaflet-tile-loaded`),this.fire(`tileload`,{tile:n.el,coords:e})),this._noTilesToLoad()&&(this._loading=!1,this.fire(`load`),this._map._fadeAnimated?this._pruneTimeout=setTimeout(this._pruneTiles.bind(this),250):requestAnimationFrame(this._pruneTiles.bind(this))))}_getTilePos(e){return e.scaleBy(this.getTileSize()).subtract(this._level.origin)}_wrapCoords(e){let t=new m(this._wrapX?r(e.x,this._wrapX):e.x,this._wrapY?r(e.y,this._wrapY):e.y);return t.z=e.z,t}_pxBoundsToTileRange(e){let t=this.getTileSize();return new h(e.min.unscaleBy(t).floor(),e.max.unscaleBy(t).ceil().subtract([1,1]))}_noTilesToLoad(){return Object.values(this._tiles).every(e=>e.loaded)}},q=class extends rn{static#_=this.setDefaultOptions({minZoom:0,maxZoom:18,subdomains:`abc`,errorTileUrl:``,zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1});initialize(e,t){if(this._url=e,t=s(this,t),t.attribution===null&&URL.canParse(e)){let n=new URL(e).hostname,r=[`tile.openstreetmap.org`,`tile.osm.org`];r.some(e=>n.endsWith(e))&&(t.attribution=`&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors`)}t.detectRetina&&x.retina&&t.maxZoom>0?(t.tileSize=Math.floor(t.tileSize/2),t.zoomReverse?(t.zoomOffset--,t.minZoom=Math.min(t.maxZoom,t.minZoom+1)):(t.zoomOffset++,t.maxZoom=Math.max(t.minZoom,t.maxZoom-1)),t.minZoom=Math.max(0,t.minZoom)):t.zoomReverse?t.minZoom=Math.min(t.maxZoom,t.minZoom):t.maxZoom=Math.max(t.minZoom,t.maxZoom),typeof t.subdomains==`string`&&(t.subdomains=t.subdomains.split(``)),this.on(`tileunload`,this._onTileRemove)}setUrl(e,t){return this._url===e&&t===void 0&&(t=!0),this._url=e,t||this.redraw(),this}createTile(e,t){let n=document.createElement(`img`);return O(n,`load`,this._tileOnLoad.bind(this,t,n)),O(n,`error`,this._tileOnError.bind(this,t,n)),(this.options.crossOrigin||this.options.crossOrigin===``)&&(n.crossOrigin=this.options.crossOrigin===!0?``:this.options.crossOrigin),typeof this.options.referrerPolicy==`string`&&(n.referrerPolicy=this.options.referrerPolicy),n.alt=``,n.src=this.getTileUrl(e),n}getTileUrl(e){let t=Object.create(this.options);if(Object.assign(t,{r:x.retina?`@2x`:``,s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()}),this._map&&!this._map.options.crs.infinite){let n=this._globalTileRange.max.y-e.y;this.options.tms&&(t.y=n),t[`-y`]=n}return l(this._url,t)}_tileOnLoad(e,t){e(null,t)}_tileOnError(e,t,n){let r=this.options.errorTileUrl;r&&t.getAttribute(`src`)!==r&&(t.src=r),e(n,t)}_onTileRemove(e){e.tile.onload=null}_getZoomForUrl(){let e=this._tileZoom,t=this.options.maxZoom,n=this.options.zoomReverse,r=this.options.zoomOffset;return n&&(e=t-e),e+r}_getSubdomain(e){let t=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[t]}_abortLoading(){let e,t;for(e of Object.keys(this._tiles))if(this._tiles[e].coords.z!==this._tileZoom&&(t=this._tiles[e].el,t.onload=i,t.onerror=i,!t.complete)){t.src=u;let n=this._tiles[e].coords;t.remove(),delete this._tiles[e],this.fire(`tileabort`,{tile:t,coords:n})}}_removeTile(e){let t=this._tiles[e];if(t)return t.el.setAttribute(`src`,u),rn.prototype._removeTile.call(this,e)}_tileReady(e,t,n){if(!(!this._map||n&&n.getAttribute(`src`)===u))return rn.prototype._tileReady.call(this,e,t,n)}_clampZoom(e){return Math.round(rn.prototype._clampZoom.call(this,e))}},an=class extends q{static#_=(()=>{this.prototype.defaultWmsParams={service:`WMS`,request:`GetMap`,layers:``,styles:``,format:`image/jpeg`,transparent:!1,version:`1.1.1`},this.setDefaultOptions({crs:null,uppercase:!1})})();initialize(e,t){this._url=e;let n={...this.defaultWmsParams};for(let e of Object.keys(t))e in this.options||(n[e]=t[e]);t=s(this,t);let r=t.detectRetina&&x.retina?2:1,i=this.getTileSize();n.width=i.x*r,n.height=i.y*r,this.wmsParams=n}onAdd(e){this._crs=this.options.crs??e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);let t=this._wmsVersion>=1.3?`crs`:`srs`;this.wmsParams[t]=this._crs.code,q.prototype.onAdd.call(this,e)}getTileUrl(e){let t=this._tileCoordsToNwSe(e),n=this._crs,r=new h(n.project(t[0]),n.project(t[1])),i=r.min,a=r.max,o=(this._wmsVersion>=1.3&&this._crs===jt?[i.y,i.x,a.y,a.x]:[i.x,i.y,a.x,a.y]).join(`,`),s=new URL(q.prototype.getTileUrl.call(this,e));for(let[e,t]of Object.entries({...this.wmsParams,bbox:o}))s.searchParams.append(this.options.uppercase?e.toUpperCase():e,t);return s.toString()}setParams(e,t){return Object.assign(this.wmsParams,e),t||this.redraw(),this}};q.WMS=an;var J=class extends Xt{initialize(e){s(this,{...e,continuous:!1}),t(this),this._layers??={}}onAdd(e){super.onAdd(e),this.on(`update`,this._updatePaths,this)}onRemove(){super.onRemove(),this.off(`update`,this._updatePaths,this)}_onZoomEnd(){for(let e of Object.values(this._layers))e._project()}_updatePaths(){for(let e of Object.values(this._layers))e._update()}_onViewReset(){for(let e of Object.values(this._layers))e._reset()}_onSettled(){this._update()}_update(){}},on=class extends J{static#_=this.setDefaultOptions({tolerance:0});getEvents(){let e=J.prototype.getEvents.call(this);return e.viewprereset=this._onViewPreReset,e}_onViewPreReset(){this._postponeUpdatePaths=!0}onAdd(e){J.prototype.onAdd.call(this,e),this._draw()}onRemove(){J.prototype.onRemove.call(this),clearTimeout(this._pointerHoverThrottleTimeout)}_initContainer(){let e=this._container=document.createElement(`canvas`);O(e,`pointermove`,this._onPointerMove,this),O(e,`click dblclick pointerdown pointerup contextmenu`,this._onClick,this),O(e,`pointerout`,this._handlePointerOut,this),e._leaflet_disable_events=!0,this._ctx=e.getContext(`2d`)}_destroyContainer(){cancelAnimationFrame(this._redrawRequest),this._redrawRequest=null,delete this._ctx,J.prototype._destroyContainer.call(this)}_resizeContainer(){let e=J.prototype._resizeContainer.call(this),t=this._ctxScale=window.devicePixelRatio;this._container.width=t*e.x,this._container.height=t*e.y}_updatePaths(){if(!this._postponeUpdatePaths){this._redrawBounds=null;for(let e of Object.values(this._layers))e._update();this._redraw()}}_update(){if(this._map._animatingZoom&&this._bounds)return;let e=this._bounds,t=this._ctxScale;this._ctx.setTransform(t,0,0,t,-e.min.x*t,-e.min.y*t),this.fire(`update`)}_reset(){J.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())}_initPath(e){this._updateDashArray(e),this._layers[t(e)]=e;let n=e._order={layer:e,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=n),this._drawLast=n,this._drawFirst??=this._drawLast}_addPath(e){this._requestRedraw(e)}_removePath(e){let n=e._order,r=n.next,i=n.prev;r?r.prev=i:this._drawLast=i,i?i.next=r:this._drawFirst=r,delete e._order,delete this._layers[t(e)],this._requestRedraw(e)}_updatePath(e){this._extendRedrawBounds(e),e._project(),e._update(),this._requestRedraw(e)}_updateStyle(e){this._updateDashArray(e),this._requestRedraw(e)}_updateDashArray(e){if(typeof e.options.dashArray==`string`){let t=e.options.dashArray.split(/[, ]+/);e.options._dashArray=t.map(e=>Number(e)).filter(e=>!isNaN(e))}else e.options._dashArray=e.options.dashArray}_requestRedraw(e){this._map&&(this._extendRedrawBounds(e),this._redrawRequest??=requestAnimationFrame(this._redraw.bind(this)))}_extendRedrawBounds(e){if(e._pxBounds){let t=(e.options.weight??0)+1;this._redrawBounds??=new h,this._redrawBounds.extend(e._pxBounds.min.subtract([t,t])),this._redrawBounds.extend(e._pxBounds.max.add([t,t]))}}_redraw(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null}_clear(){let e=this._redrawBounds;if(e){let t=e.getSize();this._ctx.clearRect(e.min.x,e.min.y,t.x,t.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()}_draw(){let e,t=this._redrawBounds;if(this._ctx.save(),t){let e=t.getSize();this._ctx.beginPath(),this._ctx.rect(t.min.x,t.min.y,e.x,e.y),this._ctx.clip()}this._drawing=!0;for(let n=this._drawFirst;n;n=n.next)e=n.layer,(!t||e._pxBounds&&e._pxBounds.intersects(t))&&e._updatePath();this._drawing=!1,this._ctx.restore()}_updatePoly(e,t){if(!this._drawing)return;let n=e._parts,r=this._ctx;n.length&&(r.beginPath(),n.forEach(e=>{e.forEach((e,t)=>{r[t?`lineTo`:`moveTo`](e.x,e.y)}),t&&r.closePath()}),this._fillStroke(r,e))}_updateCircle(e){if(!this._drawing||e._empty())return;let t=e._point,n=this._ctx,r=Math.max(Math.round(e._radius),1),i=(Math.max(Math.round(e._radiusY),1)||r)/r;i!==1&&(n.save(),n.scale(1,i)),n.beginPath(),n.arc(t.x,t.y/i,r,0,Math.PI*2,!1),i!==1&&n.restore(),this._fillStroke(n,e)}_fillStroke(e,t){let n=t.options;n.fill&&(e.globalAlpha=n.fillOpacity,e.fillStyle=n.fillColor??n.color,e.fill(n.fillRule||`evenodd`)),n.stroke&&n.weight!==0&&(e.setLineDash&&(e.lineDashOffset=Number(n.dashOffset??0),e.setLineDash(n._dashArray??[])),e.globalAlpha=n.opacity,e.lineWidth=n.weight,e.strokeStyle=n.color,e.lineCap=n.lineCap,e.lineJoin=n.lineJoin,e.stroke())}_onClick(e){let t=this._map.pointerEventToLayerPoint(e),n,r;for(let i=this._drawFirst;i;i=i.next)n=i.layer,n.options.interactive&&n._containsPoint(t)&&(!(e.type===`click`||e.type===`preclick`)||!this._map._draggableMoved(n))&&(r=n);this._fireEvent(r?[r]:!1,e)}_onPointerMove(e){if(!this._map||this._map.dragging.moving()||this._map._animatingZoom)return;let t=this._map.pointerEventToLayerPoint(e);this._handlePointerHover(e,t)}_handlePointerOut(e){let t=this._hoveredLayer;t&&(this._container.classList.remove(`leaflet-interactive`),this._fireEvent([t],e,`pointerout`),this._hoveredLayer=null,this._pointerHoverThrottled=!1)}_handlePointerHover(e,t){if(this._pointerHoverThrottled)return;let n,r;for(let e=this._drawFirst;e;e=e.next)n=e.layer,n.options.interactive&&n._containsPoint(t)&&(r=n);r!==this._hoveredLayer&&(this._handlePointerOut(e),r&&(this._container.classList.add(`leaflet-interactive`),this._fireEvent([r],e,`pointerover`),this._hoveredLayer=r)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,e),this._pointerHoverThrottled=!0,this._pointerHoverThrottleTimeout=setTimeout(()=>{this._pointerHoverThrottled=!1},32)}_fireEvent(e,t,n){this._map._fireDOMEvent(t,n||t.type,e)}_bringToFront(e){let t=e._order;if(!t)return;let n=t.next,r=t.prev;if(n)n.prev=r;else return;r?r.next=n:n&&(this._drawFirst=n),t.prev=this._drawLast,this._drawLast.next=t,t.next=null,this._drawLast=t,this._requestRedraw(e)}_bringToBack(e){let t=e._order;if(!t)return;let n=t.next,r=t.prev;if(r)r.next=n;else return;n?n.prev=r:r&&(this._drawLast=r),t.prev=null,t.next=this._drawFirst,this._drawFirst.prev=t,this._drawFirst=t,this._requestRedraw(e)}};function sn(e){return document.createElementNS(`http://www.w3.org/2000/svg`,e)}function cn(e,t){let n=e.flatMap(e=>[...e.map((e,t)=>`${(t?`L`:`M`)+e.x} ${e.y}`),t?`z`:``]).join(``);return n||`M0 0`}const ln=sn;var un=class extends J{_initContainer(){this._container=ln(`svg`),this._container.setAttribute(`pointer-events`,`none`),this._rootGroup=ln(`g`),this._container.appendChild(this._rootGroup)}_destroyContainer(){J.prototype._destroyContainer.call(this),delete this._rootGroup,delete this._svgSize}_resizeContainer(){let e=J.prototype._resizeContainer.call(this);(!this._svgSize||!this._svgSize.equals(e))&&(this._svgSize=e,this._container.setAttribute(`width`,e.x),this._container.setAttribute(`height`,e.y))}_update(){if(this._map._animatingZoom&&this._bounds)return;let e=this._bounds,t=e.getSize(),n=this._container;n.setAttribute(`viewBox`,[e.min.x,e.min.y,t.x,t.y].join(` `)),this.fire(`update`)}_initPath(e){let n=e._path=ln(`path`);e.options.className&&n.classList.add(...o(e.options.className)),e.options.interactive&&n.classList.add(`leaflet-interactive`),this._updateStyle(e),this._layers[t(e)]=e}_addPath(e){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(e._path),e.addInteractiveTarget(e._path)}_removePath(e){e._path.remove(),e.removeInteractiveTarget(e._path),delete this._layers[t(e)]}_updatePath(e){e._project(),e._update()}_updateStyle(e){let t=e._path,n=e.options;t&&(n.stroke?(t.setAttribute(`stroke`,n.color),t.setAttribute(`stroke-opacity`,n.opacity),t.setAttribute(`stroke-width`,n.weight),t.setAttribute(`stroke-linecap`,n.lineCap),t.setAttribute(`stroke-linejoin`,n.lineJoin),n.dashArray?t.setAttribute(`stroke-dasharray`,n.dashArray):t.removeAttribute(`stroke-dasharray`),n.dashOffset?t.setAttribute(`stroke-dashoffset`,n.dashOffset):t.removeAttribute(`stroke-dashoffset`)):t.setAttribute(`stroke`,`none`),n.fill?(t.setAttribute(`fill`,n.fillColor||n.color),t.setAttribute(`fill-opacity`,n.fillOpacity),t.setAttribute(`fill-rule`,n.fillRule||`evenodd`)):t.setAttribute(`fill`,`none`))}_updatePoly(e,t){this._setPath(e,cn(e._parts,t))}_updateCircle(e){let t=e._point,n=Math.max(Math.round(e._radius),1),r=Math.max(Math.round(e._radiusY),1)||n,i=`a${n},${r} 0 1,0 `,a=e._empty()?`M0 0`:`M${t.x-n},${t.y}${i}${n*2},0 ${i}${-n*2},0 `;this._setPath(e,a)}_setPath(e,t){e._path.setAttribute(`d`,t)}_bringToFront(e){ye(e._path)}_bringToBack(e){be(e._path)}};F.include({getRenderer(e){let t=e.options.renderer??this._getPaneRenderer(e.options.pane)??this.options.renderer??this._renderer;return t||=this._renderer=this._createRenderer(),this.hasLayer(t)||this.addLayer(t),t},_getPaneRenderer(e){if(e===`overlayPane`||e===void 0)return;let t=this._paneRenderers[e];return t===void 0&&(t=this._createRenderer({pane:e}),this._paneRenderers[e]=t),t},_createRenderer(e){return this.options.preferCanvas&&new on(e)||new un(e)}});var dn=class extends Bt{initialize(e,t){Bt.prototype.initialize.call(this,this._boundsToLatLngs(e),t)}setBounds(e){return this.setLatLngs(this._boundsToLatLngs(e))}_boundsToLatLngs(e){return e=new g(e),[e.getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}};un.create=ln,un.pointsToPath=cn,G.geometryToLayer=Vt,G.coordsToLatLng=Ut,G.coordsToLatLngs=Wt,G.latLngToCoords=Gt,G.latLngsToCoords=Kt,G.getFeature=qt,G.asFeature=Jt,F.mergeOptions({boxZoom:!0});var fn=class extends R{initialize(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._resetStateTimeout=0,e.on(`unload`,this._destroy,this)}addHooks(){O(this._container,`pointerdown`,this._onPointerDown,this)}removeHooks(){A(this._container,`pointerdown`,this._onPointerDown,this)}moved(){return this._moved}_destroy(){this._pane.remove(),delete this._pane}_resetState(){this._resetStateTimeout=0,this._moved=!1}_clearDeferredResetState(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)}_onPointerDown(e){if(!e.shiftKey||e.button!==0)return!1;this._clearDeferredResetState(),this._resetState(),Te(),De(),this._startPoint=this._map.pointerEventToContainerPoint(e),O(document,{contextmenu:N,pointermove:this._onPointerMove,pointerup:this._onPointerUp,keydown:this._onKeyDown},this)}_onPointerMove(e){this._moved||(this._moved=!0,this._box=S(`div`,`leaflet-zoom-box`,this._container),this._container.classList.add(`leaflet-crosshair`),this._map.fire(`boxzoomstart`)),this._point=this._map.pointerEventToContainerPoint(e);let t=new h(this._point,this._startPoint),n=t.getSize();w(this._box,t.min),this._box.style.width=`${n.x}px`,this._box.style.height=`${n.y}px`}_finish(){this._moved&&(this._box.remove(),this._container.classList.remove(`leaflet-crosshair`)),Ee(),Oe(),A(document,{contextmenu:N,pointermove:this._onPointerMove,pointerup:this._onPointerUp,keydown:this._onKeyDown},this)}_onPointerUp(e){if(e.button!==0||(this._finish(),!this._moved))return;this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(this._resetState.bind(this),0);let t=new g(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(t).fire(`boxzoomend`,{boxZoomBounds:t})}_onKeyDown(e){e.code===`Escape`&&(this._finish(),this._clearDeferredResetState(),this._resetState())}};F.addInitHook(`addHandler`,`boxZoom`,fn),F.mergeOptions({doubleClickZoom:!0});var pn=class extends R{addHooks(){this._map.on(`dblclick`,this._onDoubleClick,this)}removeHooks(){this._map.off(`dblclick`,this._onDoubleClick,this)}_onDoubleClick(e){let t=this._map,n=t.getZoom(),r=t.options.zoomDelta,i=e.originalEvent.shiftKey?n-r:n+r;t.options.doubleClickZoom===`center`?t.setZoom(i):t.setZoomAround(e.containerPoint,i)}};F.addInitHook(`addHandler`,`doubleClickZoom`,pn),F.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var mn=class extends R{addHooks(){if(!this._draggable){let e=this._map;this._draggable=new ct(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on(`predrag`,this._onPreDragLimit,this),e.options.worldCopyJump&&(this._draggable.on(`predrag`,this._onPreDragWrap,this),e.on(`zoomend`,this._onZoomEnd,this),e.whenReady(this._onZoomEnd,this))}this._map._container.classList.add(`leaflet-grab`,`leaflet-touch-drag`),this._draggable.enable(),this._positions=[],this._times=[]}removeHooks(){this._map._container.classList.remove(`leaflet-grab`,`leaflet-touch-drag`),this._draggable.disable()}moved(){return this._draggable?._moved}moving(){return this._draggable?._moving}_onDragStart(){let e=this._map;if(e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){let e=new g(this._map.options.maxBounds);this._offsetLimit=new h(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;e.fire(`movestart`).fire(`dragstart`),e.options.inertia&&(this._positions=[],this._times=[])}_onDrag(e){if(this._map.options.inertia){let e=this._lastTime=+new Date,t=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(t),this._times.push(e),this._prunePositions(e)}this._map.fire(`move`,e).fire(`drag`,e)}_prunePositions(e){for(;this._positions.length>1&&e-this._times[0]>50;)this._positions.shift(),this._times.shift()}_onZoomEnd(){let e=this._map.getSize().divideBy(2),t=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=t.subtract(e).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x}_viscousLimit(e,t){return e-(e-t)*this._viscosity}_onPreDragLimit(){if(!this._viscosity||!this._offsetLimit)return;let e=this._draggable._newPos.subtract(this._draggable._startPos),t=this._offsetLimit;e.x<t.min.x&&(e.x=this._viscousLimit(e.x,t.min.x)),e.y<t.min.y&&(e.y=this._viscousLimit(e.y,t.min.y)),e.x>t.max.x&&(e.x=this._viscousLimit(e.x,t.max.x)),e.y>t.max.y&&(e.y=this._viscousLimit(e.y,t.max.y)),this._draggable._newPos=this._draggable._startPos.add(e)}_onPreDragWrap(){let e=this._worldWidth,t=Math.round(e/2),n=this._initialWorldOffset,r=this._draggable._newPos.x,i=(r-t+n)%e+t-n,a=(r+t+n)%e-t-n,o=Math.abs(i+n)<Math.abs(a+n)?i:a;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=o}_onDragEnd(e){let t=this._map,n=t.options,r=!n.inertia||e.noInertia||this._times.length<2;if(t.fire(`dragend`,e),r)t.fire(`moveend`);else{this._prunePositions(+new Date);let e=this._lastPos.subtract(this._positions[0]),r=(this._lastTime-this._times[0])/1e3,i=n.easeLinearity,a=e.multiplyBy(i/r),o=a.distanceTo([0,0]),s=Math.min(n.inertiaMaxSpeed,o),c=a.multiplyBy(s/o),l=s/(n.inertiaDeceleration*i),u=c.multiplyBy(-l/2).round();!u.x&&!u.y?t.fire(`moveend`):(u=t._limitOffset(u,t.options.maxBounds),requestAnimationFrame(()=>{t.panBy(u,{duration:l,easeLinearity:i,noMoveStart:!0,animate:!0})}))}}};F.addInitHook(`addHandler`,`dragging`,mn),F.mergeOptions({keyboard:!0,keyboardPanDelta:80});var hn=class e extends R{static keyCodes={left:[`ArrowLeft`],right:[`ArrowRight`],down:[`ArrowDown`],up:[`ArrowUp`],zoomIn:[`Equal`,`NumpadAdd`,`BracketRight`],zoomOut:[`Minus`,`NumpadSubtract`,`Digit6`,`Slash`]};initialize(e){this._map=e,this._setPanDelta(e.options.keyboardPanDelta),this._setZoomDelta(e.options.zoomDelta)}addHooks(){let t=this._map._container;t.tabIndex<=0&&(t.tabIndex=`0`),t.ariaKeyShortcuts=Object.values(e.keyCodes).flat().join(` `),O(t,{focus:this._onFocus,blur:this._onBlur,pointerdown:this._onPointerDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)}removeHooks(){this._removeHooks(),A(this._map._container,{focus:this._onFocus,blur:this._onBlur,pointerdown:this._onPointerDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)}_onPointerDown(){if(this._focused)return;let e=document.body,t=document.documentElement,n=e.scrollTop||t.scrollTop,r=e.scrollLeft||t.scrollLeft;this._map._container.focus(),window.scrollTo(r,n)}_onFocus(){this._focused=!0,this._map.fire(`focus`)}_onBlur(){this._focused=!1,this._map.fire(`blur`)}_setPanDelta(t){let n=this._panKeys={},r=e.keyCodes;for(let e of r.left)n[e]=[-1*t,0];for(let e of r.right)n[e]=[t,0];for(let e of r.down)n[e]=[0,t];for(let e of r.up)n[e]=[0,-1*t]}_setZoomDelta(t){let n=this._zoomKeys={},r=e.keyCodes;for(let e of r.zoomIn)n[e]=t;for(let e of r.zoomOut)n[e]=-t}_addHooks(){O(document,`keydown`,this._onKeyDown,this)}_removeHooks(){A(document,`keydown`,this._onKeyDown,this)}_onKeyDown(e){if(e.altKey||e.ctrlKey||e.metaKey)return;let t=e.code,n=this._map,r;if(t in this._panKeys){if(!n._panAnim||!n._panAnim._inProgress)if(r=this._panKeys[t],e.shiftKey&&(r=new m(r).multiplyBy(3)),n.options.maxBounds&&(r=n._limitOffset(new m(r),n.options.maxBounds)),n.options.worldCopyJump){let e=n.wrapLatLng(n.unproject(n.project(n.getCenter()).add(r)));n.panTo(e)}else n.panBy(r)}else if(t in this._zoomKeys)n.setZoom(n.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[t]);else if(t===`Escape`&&n._popup&&n._popup.options.closeOnEscapeKey)n.closePopup();else return;N(e)}};F.addInitHook(`addHandler`,`keyboard`,hn),F.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var gn=class extends R{addHooks(){O(this._map._container,`wheel`,this._onWheelScroll,this),this._delta=0}removeHooks(){A(this._map._container,`wheel`,this._onWheelScroll,this),clearTimeout(this._timer)}_onWheelScroll(e){let t=$e(e),n=this._map.options.wheelDebounceTime;this._delta+=t,this._lastMousePos=this._map.pointerEventToContainerPoint(e),this._startTime||=+new Date;let r=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(this._performZoom.bind(this),r),N(e)}_performZoom(){let e=this._map,t=e.getZoom(),n=this._map.options.zoomSnap??0;e._stop();let r=this._delta/(this._map.options.wheelPxPerZoomLevel*4),i=4*Math.log(2/(1+Math.exp(-Math.abs(r))))/Math.LN2,a=n?Math.ceil(i/n)*n:i,o=e._limitZoom(t+(this._delta>0?a:-a))-t;this._delta=0,this._startTime=null,o&&(e.options.scrollWheelZoom===`center`?e.setZoom(t+o):e.setZoomAround(this._lastMousePos,t+o))}};F.addInitHook(`addHandler`,`scrollWheelZoom`,gn);const _n=600;F.mergeOptions({tapHold:x.safari&&x.mobile,tapTolerance:15});var vn=class extends R{addHooks(){O(this._map._container,`pointerdown`,this._onDown,this)}removeHooks(){A(this._map._container,`pointerdown`,this._onDown,this),clearTimeout(this._holdTimeout)}_onDown(e){clearTimeout(this._holdTimeout),!(Ve().length!==1||e.pointerType===`mouse`)&&(this._startPos=this._newPos=new m(e.clientX,e.clientY),this._holdTimeout=setTimeout(()=>{this._cancel(),this._isTapValid()&&(O(document,`pointerup`,M),O(document,`pointerup pointercancel`,this._cancelClickPrevent),this._simulateEvent(`contextmenu`,e))},_n),O(document,`pointerup pointercancel contextmenu`,this._cancel,this),O(document,`pointermove`,this._onMove,this))}_cancelClickPrevent=function e(){A(document,`pointerup`,M),A(document,`pointerup pointercancel`,e)};_cancel(){clearTimeout(this._holdTimeout),A(document,`pointerup pointercancel contextmenu`,this._cancel,this),A(document,`pointermove`,this._onMove,this)}_onMove(e){this._newPos=new m(e.clientX,e.clientY)}_isTapValid(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance}_simulateEvent(e,t){let n=new MouseEvent(e,{bubbles:!0,cancelable:!0,view:window,screenX:t.screenX,screenY:t.screenY,clientX:t.clientX,clientY:t.clientY});n._simulated=!0,t.target.dispatchEvent(n)}};F.addInitHook(`addHandler`,`tapHold`,vn),F.mergeOptions({pinchZoom:!0,bounceAtZoomLimits:!0});var yn=class extends R{addHooks(){this._map._container.classList.add(`leaflet-touch-zoom`),O(this._map._container,`pointerdown`,this._onPointerStart,this)}removeHooks(){this._map._container.classList.remove(`leaflet-touch-zoom`),A(this._map._container,`pointerdown`,this._onPointerStart,this)}_onPointerStart(e){let t=this._map,n=Ve();if(n.length!==2||t._animatingZoom||this._zooming)return;let r=t.pointerEventToContainerPoint(n[0]),i=t.pointerEventToContainerPoint(n[1]);this._centerPoint=t.getSize()._divideBy(2),this._startLatLng=t.containerPointToLatLng(this._centerPoint),t.options.pinchZoom!==`center`&&(this._pinchStartLatLng=t.containerPointToLatLng(r.add(i)._divideBy(2))),this._startDist=r.distanceTo(i),this._startZoom=t.getZoom(),this._moved=!1,this._zooming=!0,t._stop(),O(document,`pointermove`,this._onPointerMove,this),O(document,`pointerup pointercancel`,this._onPointerEnd,this),M(e)}_onPointerMove(e){let t=Ve();if(t.length!==2||!this._zooming)return;let n=this._map,r=n.pointerEventToContainerPoint(t[0]),i=n.pointerEventToContainerPoint(t[1]),a=r.distanceTo(i)/this._startDist;if(this._zoom=n.getScaleZoom(a,this._startZoom),!n.options.bounceAtZoomLimits&&(this._zoom<n.getMinZoom()&&a<1||this._zoom>n.getMaxZoom()&&a>1)&&(this._zoom=n._limitZoom(this._zoom)),n.options.pinchZoom===`center`){if(this._center=this._startLatLng,a===1)return}else{let e=r._add(i)._divideBy(2)._subtract(this._centerPoint);if(a===1&&e.x===0&&e.y===0)return;this._center=n.unproject(n.project(this._pinchStartLatLng,this._zoom).subtract(e),this._zoom)}this._moved||(n._moveStart(!0,!1),this._moved=!0),cancelAnimationFrame(this._animRequest);let o=n._move.bind(n,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=requestAnimationFrame(o.bind(this)),M(e)}_onPointerEnd(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,cancelAnimationFrame(this._animRequest),A(document,`pointermove`,this._onPointerMove,this),A(document,`pointerup pointercancel`,this._onPointerEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}};F.addInitHook(`addHandler`,`pinchZoom`,yn),F.addInitHook(function(){this.touchZoom=this.pinchZoom,this.options.touchZoom!==void 0&&(console.warn(`Map: touchZoom option is deprecated and will be removed in future versions. Use pinchZoom instead.`),this.options.pinchZoom=this.options.touchZoom,delete this.options.touchZoom),this.options.pinchZoom?this.pinchZoom.enable():this.pinchZoom.disable()}),F.BoxZoom=fn,F.DoubleClickZoom=pn,F.Drag=mn,F.Keyboard=hn,F.ScrollWheelZoom=gn,F.TapHold=vn,F.PinchZoom=yn,F.TouchZoom=yn;const bn=`2.0.0-alpha.1`;var xn={__proto__:null,BlanketOverlay:Xt,Bounds:h,Browser:x,CRS:v,Canvas:on,Circle:Rt,CircleMarker:Lt,Class:f,Control:I,DivIcon:nn,DivOverlay:K,DomEvent:P,DomUtil:E,Draggable:ct,Evented:p,FeatureGroup:H,GeoJSON:G,GridLayer:rn,Handler:R,Icon:U,ImageOverlay:Zt,LatLng:_,LatLngBounds:g,Layer:V,LayerGroup:Nt,LeafletMap:nt,LineUtil:Tt,Map:F,Marker:It,Path:W,Point:m,PolyUtil:ft,Polygon:Bt,Polyline:zt,Popup:en,PosAnimation:tt,Projection:kt,Rectangle:dn,Renderer:J,SVG:un,SVGOverlay:$t,TileLayer:q,Tooltip:tn,Transformation:b,Util:d,VideoOverlay:Qt,version:bn};const Sn=Cn().L;Cn().L=xn,Cn().L.noConflict=function(){return Cn().L=Sn,this};function Cn(){if(typeof globalThis<`u`)return globalThis;if(typeof self<`u`)return self;if(typeof window<`u`)return window;if(typeof global<`u`)return global;throw Error(`Unable to locate global object.`)}function Y(e,t){return Object.assign(t,e.geocodingQueryParams)}function X(e,t){return Object.assign(t,e.reverseQueryParams)}const wn=/[&<>"'`]/g,Tn=/[&<>"'`]/,En={"&":`&amp;`,"<":`&lt;`,">":`&gt;`,'"':`&quot;`,"'":`&#x27;`,"`":`&#x60;`};function Dn(e){return En[e]}function On(e){return e==null?``:e?(e=``+e,Tn.test(e)?e.replace(wn,Dn):e):e+``}function Z(e,t){let n={Accept:`application/json`},r=new URL(e);return Object.entries(t).forEach(([e,t])=>{(Array.isArray(t)?t:[t]).forEach(t=>{r.searchParams.append(e,t)})}),fetch(r.toString(),{headers:n}).then(e=>e.json())}function kn(e,t){return e.replace(/\{ *([\w_]+) *\}/g,(e,n)=>{let r=t[n];return r===void 0?r=``:typeof r==`function`&&(r=r(t)),On(r)})}var An=class{options={serviceUrl:`https://geocode.arcgis.com/arcgis/rest/services/World/GeocodeServer`,apiKey:``};constructor(e){d.setOptions(this,e)}async geocode(e){let t=Y(this.options,{token:this.options.apiKey,SingleLine:e,outFields:`Addr_Type`,forStorage:!1,maxLocations:10,f:`json`});return(await Z(this.options.serviceUrl+`/findAddressCandidates`,t)).candidates.map(e=>{let t=new _(e.location.y,e.location.x),n=new g(new _(e.extent.ymax,e.extent.xmax),new _(e.extent.ymin,e.extent.xmin));return{name:e.address,bbox:n,center:t}})}suggest(e){return this.geocode(e)}async reverse(e,t){let n=X(this.options,{location:e.lng+`,`+e.lat,distance:100,f:`json`}),r=await Z(this.options.serviceUrl+`/reverseGeocode`,n);if(!r||r.error)return[];let i=new _(r.location.y,r.location.x),a=new g(i,i);return[{name:r.address.Match_addr,center:i,bbox:a}]}};function jn(e){return new An(e)}var Mn=class{options={serviceUrl:`https://dev.virtualearth.net/REST/v1/Locations/`};constructor(e){d.setOptions(this,e)}async geocode(e){let t=Y(this.options,{query:e,key:this.options.apiKey}),n=await Z(this.options.serviceUrl,t);return this._parseResults(n)}async reverse(e,t){let n=X(this.options,{key:this.options.apiKey}),r=await Z(this.options.serviceUrl+e.lat+`,`+e.lng,n);return this._parseResults(r)}_parseResults(e){return e.resourceSets[0].resources.map(e=>{let t=e.bbox;return{name:e.name,bbox:new g([t[0],t[1]],[t[2],t[3]]),center:new _(...e.point.coordinates)}})}};function Nn(e){return new Mn(e)}var Pn=class{options={apiKey:``,serviceUrl:`https://atlas.microsoft.com/search`};constructor(e){if(d.setOptions(this,e),!this.options.apiKey)throw Error(`Azure Maps Geocoder requires an API key.`)}async geocode(e){let t={"api-version":`1.0`,query:e,"subscription-key":this.options.apiKey},n=this.options.serviceUrl+`/address/json`;return((await Z(n,t)).results||[]).map(e=>({name:e.address.freeformAddress,bbox:new g([e.viewport.topLeftPoint.lat,e.viewport.topLeftPoint.lon],[e.viewport.btmRightPoint.lat,e.viewport.btmRightPoint.lon]),center:new _(e.position.lat,e.position.lon)}))}async reverse(e,t){let n={"api-version":`1.0`,query:e.lat+`,`+e.lng,"subscription-key":this.options.apiKey},r=this.options.serviceUrl+`/address/reverse/json`;return((await Z(r,n)).addresses||[]).map(t=>({name:t.address.freeformAddress,bbox:new g([t.viewport.topLeftPoint.lat,t.viewport.topLeftPoint.lon],[t.viewport.btmRightPoint.lat,t.viewport.btmRightPoint.lon]),center:new _(e.lat,e.lng)}))}};function Fn(e){return new Pn(e)}var In=class{options={serviceUrl:`https://maps.googleapis.com/maps/api/geocode/json`};constructor(e){d.setOptions(this,e)}async geocode(e){let t=Y(this.options,{key:this.options.apiKey,address:e}),n=await Z(this.options.serviceUrl,t);return this._parseResults(n)}async reverse(e,t){let n=X(this.options,{key:this.options.apiKey,latlng:e.lat+`,`+e.lng}),r=await Z(this.options.serviceUrl,n);return this._parseResults(r)}_parseResults(e){return(e.results||[])?.map(e=>{let t=new _(e.geometry.location.lat,e.geometry.location.lng),n=new g(new _(e.geometry.viewport.northeast.lat,e.geometry.viewport.northeast.lng),new _(e.geometry.viewport.southwest.lat,e.geometry.viewport.southwest.lng));return{name:e.formatted_address,bbox:n,center:t,properties:e.address_components}})}};function Ln(e){return new In(e)}var Rn=class{options={serviceUrl:`https://geocoder.api.here.com/6.2/`,app_id:``,app_code:``,apiKey:``,maxResults:5};constructor(e){if(d.setOptions(this,e),e?.apiKey)throw Error(`apiKey is not supported, use app_id/app_code instead!`)}geocode(e){let t=Y(this.options,{searchtext:e,gen:9,app_id:this.options.app_id,app_code:this.options.app_code,jsonattributes:1,maxresults:this.options.maxResults});return this.getJSON(this.options.serviceUrl+`geocode.json`,t)}reverse(e,t){let n=e.lat+`,`+e.lng;this.options.reverseGeocodeProxRadius&&(n+=`,`+this.options.reverseGeocodeProxRadius);let r=X(this.options,{prox:n,mode:`retrieveAddresses`,app_id:this.options.app_id,app_code:this.options.app_code,gen:9,jsonattributes:1,maxresults:this.options.maxResults});return this.getJSON(this.options.serviceUrl+`reversegeocode.json`,r)}async getJSON(e,t){return((await Z(e,t)).response.view?.[0]?.result||[]).map(e=>{let t=e.location,n=new _(t.displayPosition.latitude,t.displayPosition.longitude),r=new g(new _(t.mapView.topLeft.latitude,t.mapView.topLeft.longitude),new _(t.mapView.bottomRight.latitude,t.mapView.bottomRight.longitude));return{name:t.address.label,properties:t.address,bbox:r,center:n}})}},zn=class{options={serviceUrl:`https://geocode.search.hereapi.com/v1`,apiKey:``,app_id:``,app_code:``,maxResults:10};constructor(e){d.setOptions(this,e)}geocode(e){let t=Y(this.options,{q:e,apiKey:this.options.apiKey,limit:this.options.maxResults});if(!t.at&&!t.in)throw Error(`at / in parameters not found. Please define coordinates (at=latitude,longitude) or other (in) in your geocodingQueryParams.`);return this.getJSON(this.options.serviceUrl+`/discover`,t)}reverse(e,t){let n=X(this.options,{at:e.lat+`,`+e.lng,limit:this.options.reverseGeocodeProxRadius,apiKey:this.options.apiKey});return this.getJSON(this.options.serviceUrl+`/revgeocode`,n)}async getJSON(e,t){return((await Z(e,t)).items||[]).map(e=>{let t=new _(e.position.lat,e.position.lng),n;return n=e.mapView?new g(new _(e.mapView.south,e.mapView.west),new _(e.mapView.north,e.mapView.east)):new g(new _(e.position.lat,e.position.lng),new _(e.position.lat,e.position.lng)),{name:e.address.label,properties:e.address,bbox:n,center:t}})}};function Bn(e){return e?.apiKey?new zn(e):new Rn(e)}function Vn(e){let t;if(t=e.match(/^([NS])\s*(\d{1,3}(?:\.\d*)?)\W*([EW])\s*(\d{1,3}(?:\.\d*)?)$/))return new _((/N/i.test(t[1])?1:-1)*t[2],(/E/i.test(t[3])?1:-1)*t[4]);if(t=e.match(/^(\d{1,3}(?:\.\d*)?)\s*([NS])\W*(\d{1,3}(?:\.\d*)?)\s*([EW])$/))return new _((/N/i.test(t[2])?1:-1)*t[1],(/E/i.test(t[4])?1:-1)*t[3]);if(t=e.match(/^([NS])\s*(\d{1,3})?\s*(\d{1,3}(?:\.\d*)?)?[']?\W*([EW])\s*(\d{1,3})?\s*(\d{1,3}(?:\.\d*)?)?[']?$/))return new _((/N/i.test(t[1])?1:-1)*(+t[2]+t[3]/60),(/E/i.test(t[4])?1:-1)*(+t[5]+t[6]/60));if(t=e.match(/^(\d{1,3})?\s*(\d{1,3}(?:\.\d*)?)?[']?\s*([NS])\W*(\d{1,3})?\s*(\d{1,3}(?:\.\d*)?)?[']?\s*([EW])$/))return new _((/N/i.test(t[3])?1:-1)*(+t[1]+t[2]/60),(/E/i.test(t[6])?1:-1)*(+t[4]+t[5]/60));if(t=e.match(/^([NS])\s*(\d{1,3})?\s*(\d{1,2})[']?\s*(\d{1,3}(?:\.\d*)?)?["]?\W*([EW])\s*(\d{1,3})?\s*(\d{1,2})[']?\s*(\d{1,3}(?:\.\d*)?)?["]?$/))return new _((/N/i.test(t[1])?1:-1)*(+t[2]+t[3]/60+t[4]/3600),(/E/i.test(t[5])?1:-1)*(+t[6]+t[7]/60+t[8]/3600));if(t=e.match(/^(\d{1,3})?\s*(\d{1,2})[']?\s*(\d{1,3}(?:\.\d*)?)?["]\s*([NS])\W*(\d{1,3})?\s*(\d{1,2})[']?\s*(\d{1,3}(?:\.\d*)?)?["]?\s*([EW])$/))return new _((/N/i.test(t[4])?1:-1)*(+t[1]+t[2]/60+t[3]/3600),(/E/i.test(t[8])?1:-1)*(+t[5]+t[6]/60+t[7]/3600));if(t=e.match(/^\s*([+-]?\d+(?:\.\d*)?)\s*[\s,]\s*([+-]?\d+(?:\.\d*)?)\s*$/))return new _(+t[1],+t[2])}var Hn=class{options={next:void 0,sizeInMeters:1e4};constructor(e){d.setOptions(this,e)}async geocode(e){let t=Vn(e);return t?[{name:e,center:t,bbox:t.toBounds(this.options.sizeInMeters)}]:this.options.next?this.options.next.geocode(e):[]}};function Un(e){return new Hn(e)}var Wn=class{options={serviceUrl:`https://api.mapbox.com/geocoding/v5/mapbox.places/`};constructor(e){d.setOptions(this,e)}_getProperties(e){let t={text:e.text,address:e.address};return(e.context||[]).forEach(e=>{let n=e.id.split(`.`)[0];t[n]=e.text,e.short_code&&(t.countryShortCode=e.short_code)}),t}async geocode(e){let t=this.options.serviceUrl+encodeURIComponent(e)+`.json`,n=Y(this.options,{access_token:this.options.apiKey});n.proximity!==void 0&&n.proximity.lat!==void 0&&n.proximity.lng!==void 0&&(n.proximity=n.proximity.lng+`,`+n.proximity.lat);let r=await Z(t,n);return this._parseResults(r)}suggest(e){return this.geocode(e)}async reverse(e,t){let n=this.options.serviceUrl+e.lng+`,`+e.lat+`.json`,r=X(this.options,{access_token:this.options.apiKey}),i=await Z(n,r);return this._parseResults(i)}_parseResults(e){return e.features?.length?e.features.map(e=>{let t=new _(...e.center.reverse()),n;return n=e.bbox?new g(new _(...e.bbox.slice(0,2).reverse()),new _(...e.bbox.slice(2,4).reverse())):new g(t,t),{name:e.place_name,bbox:n,center:t,properties:this._getProperties(e)}}):[]}};function Gn(e){return new Wn(e)}var Kn=class{options={serviceUrl:`https://www.mapquestapi.com/geocoding/v1`};constructor(e){d.setOptions(this,e),this.options.apiKey=decodeURIComponent(this.options.apiKey)}_formatName(...e){return e.filter(e=>!!e).join(`, `)}async geocode(e){let t=Y(this.options,{key:this.options.apiKey,location:e,limit:5,outFormat:`json`}),n=await Z(this.options.serviceUrl+`/address`,t);return this._parseResults(n)}async reverse(e,t){let n=X(this.options,{key:this.options.apiKey,location:e.lat+`,`+e.lng,outputFormat:`json`}),r=await Z(this.options.serviceUrl+`/reverse`,n);return this._parseResults(r)}_parseResults(e){return(e.results?.[0]?.locations||[]).map(e=>{let t=new _(e.latLng.lat,e.latLng.lng);return{name:this._formatName(e.street,e.adminArea4,e.adminArea3,e.adminArea1),bbox:new g(t,t),center:t}})}};function qn(e){return new Kn(e)}var Jn=class{options={userId:``,apiKey:``,serviceUrl:`https://neutrinoapi.com/`};constructor(e){d.setOptions(this,e)}async geocode(e){let t=Y(this.options,{apiKey:this.options.apiKey,userId:this.options.userId,address:e.split(/\s+/).join(`.`)}),n=await Z(this.options.serviceUrl+`geocode-address`,t);if(!n.locations)return[];n.geometry=n.locations[0];let r=new _(n.geometry.latitude,n.geometry.longitude),i=new g(r,r);return[{name:n.geometry.address,bbox:i,center:r}]}suggest(e){return this.geocode(e)}async reverse(e,t){let n=X(this.options,{apiKey:this.options.apiKey,userId:this.options.userId,latitude:e.lat,longitude:e.lng}),r=await Z(this.options.serviceUrl+`geocode-reverse`,n);if(r.status.status!==200||!r.found)return[];let i=new _(e.lat,e.lng),a=new g(i,i);return[{name:r.address,bbox:a,center:i}]}};function Yn(e){return new Jn(e)}var Xn=class{options={serviceUrl:`https://nominatim.openstreetmap.org/`,htmlTemplate(e){let t=e.address,n,r=[];return(t.road||t.building)&&r.push(`{building} {road} {house_number}`),(t.city||t.town||t.village||t.hamlet)&&(n=r.length>0?`leaflet-control-geocoder-address-detail`:``,r.push(`<span class="`+n+`">{postcode} {city} {town} {village} {hamlet}</span>`)),(t.state||t.country)&&(n=r.length>0?`leaflet-control-geocoder-address-context`:``,r.push(`<span class="`+n+`">{state} {country}</span>`)),kn(r.join(`<br/>`),t)}};constructor(e){d.setOptions(this,e||{})}async geocode(e){let t=Y(this.options,{q:e,limit:5,format:`json`,addressdetails:1});return(await Z(this.options.serviceUrl+`search`,t)).map(e=>{let t=e.boundingbox;return{icon:e.icon,name:e.display_name,html:this.options.htmlTemplate?this.options.htmlTemplate(e):void 0,bbox:new g([+t[0],+t[2]],[+t[1],+t[3]]),center:new _(+e.lat,+e.lon),properties:e}})}async reverse(e,t){let n=X(this.options,{lat:e.lat,lon:e.lng,zoom:Math.round(Math.log(t/256)/Math.log(2)),addressdetails:1,format:`json`}),r=await Z(this.options.serviceUrl+`reverse`,n);if(!r?.lat||!r?.lon)return[];let i=new _(+r.lat,+r.lon),a=new g(i,i);return[{name:r.display_name,html:this.options.htmlTemplate?this.options.htmlTemplate(r):void 0,center:i,bbox:a,properties:r}]}};function Zn(e){return new Xn(e)}var Qn=class{options={};constructor(e){d.setOptions(this,e)}async geocode(e){try{let t=this.options.OpenLocationCode.decode(e);return[{name:e,center:new _(t.latitudeCenter,t.longitudeCenter),bbox:new g(new _(t.latitudeLo,t.longitudeLo),new _(t.latitudeHi,t.longitudeHi))}]}catch(e){return console.warn(e),[]}}async reverse(e,t){try{return[{name:this.options.OpenLocationCode.encode(e.lat,e.lng,this.options.codeLength),center:new _(e.lat,e.lng),bbox:new g(new _(e.lat,e.lng),new _(e.lat,e.lng))}]}catch(e){return console.warn(e),[]}}};function $n(e){return new Qn(e)}var er=class{options={serviceUrl:`https://api.opencagedata.com/geocode/v1/json`};constructor(e){d.setOptions(this,e)}async geocode(e){let t=Y(this.options,{key:this.options.apiKey,q:e}),n=await Z(this.options.serviceUrl,t);return this._parseResults(n)}suggest(e){return this.geocode(e)}async reverse(e,t){let n=X(this.options,{key:this.options.apiKey,q:[e.lat,e.lng].join(`,`)}),r=await Z(this.options.serviceUrl,n);return this._parseResults(r)}_parseResults(e){return(e.results||[]).map(e=>{let t=new _(e.geometry.lat,e.geometry.lng),n=e.annotations&&e.annotations.bounds?new g(new _(e.annotations.bounds.northeast.lat,e.annotations.bounds.northeast.lng),new _(e.annotations.bounds.southwest.lat,e.annotations.bounds.southwest.lng)):new g(t,t);return{name:e.formatted,bbox:n,center:t,properties:e}})}};function tr(e){return new er(e)}var nr=class{options={serviceUrl:`https://api.geocode.earth/v1`};constructor(e){d.setOptions(this,e)}async geocode(e){let t=Y(this.options,{api_key:this.options.apiKey,text:e}),n=await Z(this.options.serviceUrl+`/search`,t);return this._parseResults(n)}async suggest(e){let t=Y(this.options,{api_key:this.options.apiKey,text:e}),n=await Z(this.options.serviceUrl+`/autocomplete`,t);return this._parseResults(n)}async reverse(e,t){let n=X(this.options,{api_key:this.options.apiKey,"point.lat":e.lat,"point.lon":e.lng}),r=await Z(this.options.serviceUrl+`/reverse`,n);return this._parseResults(r)}_parseResults(e){return(e.features||[]).map(e=>{let t=e.geometry.coordinates,n=new _(t[1],t[0]),r=Array.isArray(e.bbox)&&e.bbox.length===4?new g([e.bbox[1],e.bbox[0]],[e.bbox[3],e.bbox[2]]):new g(n,n);return{name:e.properties.label,center:n,bbox:r,properties:e.properties}})}};function rr(e){return new nr(e)}const ir=nr,ar=rr,or=nr,sr=rr;var cr=class extends nr{constructor(e){super(Object.assign({serviceUrl:`https://api.openrouteservice.org/geocode`},e))}};function lr(e){return new cr(e)}var ur=class{options={serviceUrl:`https://photon.komoot.io/api/`,reverseUrl:`https://photon.komoot.io/reverse/`,nameProperties:[`name`,`street`,`suburb`,`hamlet`,`town`,`city`,`state`,`country`]};constructor(e){d.setOptions(this,e)}async geocode(e,t){let n=Y(this.options,{q:e}),r=t?.map?.getCenter?.();r&&(n.lat=r.lat,n.lon=r.lng);let i=t?.map?.getZoom?.();i&&(n.zoom=i);let a=await Z(this.options.serviceUrl,n);return this._parseResults(a)}suggest(e){return this.geocode(e)}async reverse(e,t){let n=X(this.options,{lat:e.lat,lon:e.lng}),r=await Z(this.options.reverseUrl,n);return this._parseResults(r)}_parseResults(e){return(e.features||[]).map(e=>{let t=e.geometry.coordinates,n=new _(t[1],t[0]),r=e.properties?.extent,i=r?new g([r[1],r[0]],[r[3],r[2]]):new g(n,n);return{name:this._decodeFeatureName(e),html:this.options.htmlTemplate?this.options.htmlTemplate(e):void 0,center:n,bbox:i,properties:e.properties}})}_decodeFeatureName(e){return(this.options.nameProperties||[]).map(t=>e.properties?.[t]).filter(e=>!!e).join(`, `)}};function dr(e){return new ur(e)}var fr=class{options={serviceUrl:`https://api.what3words.com/v2/`};constructor(e){d.setOptions(this,e)}async geocode(e){let t=await Z(this.options.serviceUrl+`forward`,Y(this.options,{key:this.options.apiKey,addr:e.split(/\s+/).join(`.`)}));if(!t.geometry)return[];let n=new _(t.geometry.lat,t.geometry.lng),r=new g(n,n);return[{name:t.words,bbox:r,center:n}]}suggest(e){return this.geocode(e)}async reverse(e,t){let n=await Z(this.options.serviceUrl+`reverse`,X(this.options,{key:this.options.apiKey,coords:[e.lat,e.lng].join(`,`)}));if(n.status.status!=200)return[];let r=new _(n.geometry.lat,n.geometry.lng),i=new g(r,r);return[{name:n.words,bbox:i,center:r}]}};function pr(e){return new fr(e)}const mr=Object.freeze(Object.defineProperty({__proto__:null,ArcGis:An,AzureMaps:Pn,Bing:Mn,GeocodeEarth:ir,Google:In,HERE:Rn,HEREv2:zn,LatLng:Hn,MapQuest:Kn,Mapbox:Wn,Mapzen:or,Neutrino:Jn,Nominatim:Xn,OpenCage:er,OpenLocationCode:Qn,Openrouteservice:cr,Pelias:nr,Photon:ur,What3Words:fr,arcgis:jn,azure:Fn,bing:Nn,geocodeEarth:ar,geocodingParams:Y,google:Ln,here:Bn,latLng:Un,mapQuest:qn,mapbox:Gn,mapzen:sr,neutrino:Yn,nominatim:Zn,openLocationCode:$n,opencage:tr,openrouteservice:lr,parseLatLng:Vn,pelias:rr,photon:dr,reverseParams:X,what3words:pr},Symbol.toStringTag,{value:`Module`}));var hr=class{constructor(...e){}};Object.getOwnPropertyNames(I.prototype).forEach(e=>hr.prototype[e]=I.prototype[e]),Object.getOwnPropertyNames(p.prototype).forEach(e=>hr.prototype[e]=p.prototype[e]);var gr=class extends hr{options={showUniqueResult:!0,showResultIcons:!1,collapsed:!0,expand:`touch`,position:`topright`,placeholder:`Search...`,errorMessage:`Nothing found.`,iconLabel:`Initiate a new search`,query:``,queryMinLength:1,suggestMinLength:3,suggestTimeout:250,defaultMarkGeocode:!0};_alts;_container;_errorElement;_geocodeMarker;_input;_lastGeocode;_map;_preventBlurCollapse;_requestCount=0;_results;_selection;_suggestTimeout;constructor(e){super(e),d.setOptions(this,e),this.options.geocoder||(this.options.geocoder=new Xn)}addThrobberClass(){this._container.classList.add(`leaflet-control-geocoder-throbber`)}removeThrobberClass(){this._container.classList.remove(`leaflet-control-geocoder-throbber`)}onAdd(e){let t=`leaflet-control-geocoder`,n=E.create(`div`,t+` leaflet-bar`),r=E.create(`button`,t+`-icon`,n),i=E.create(`div`,t+`-form`,n);this._map=e,this._container=n,r.innerHTML=`&nbsp;`,r.type=`button`,r.setAttribute(`aria-label`,this.options.iconLabel);let a=this._input=E.create(`input`,``,i);return a.type=`search`,a.value=this.options.query,a.placeholder=this.options.placeholder,P.disableClickPropagation(a),this._errorElement=E.create(`div`,t+`-form-no-error`,n),this._errorElement.innerHTML=this.options.errorMessage,this._alts=E.create(`ul`,t+`-alternatives leaflet-control-geocoder-alternatives-minimized`,n),P.disableClickPropagation(this._alts),P.on(a,`keydown`,this._keydown,this),this.options.geocoder?.suggest&&P.on(a,`input`,this._change,this),P.on(a,`blur`,()=>{this.options.collapsed&&!this._preventBlurCollapse&&this._collapse(),this._preventBlurCollapse=!1}),this.options.collapsed?this.options.expand===`click`?P.on(n,`click`,e=>{e.button===0&&e.detail!==2&&this._toggle()}):this.options.expand===`touch`?P.on(n,x.touch?`touchstart mousedown`:`mousedown`,e=>{this._toggle(),e.preventDefault(),e.stopPropagation()},this):(P.on(n,`mouseover`,this._expand,this),P.on(n,`mouseout`,this._collapse,this),this._map.on(`movestart`,this._collapse,this)):(this._expand(),x.touch?P.on(n,`touchstart`,()=>this._geocode()):P.on(n,`click`,()=>this._geocode())),this.options.defaultMarkGeocode&&this.on(`markgeocode`,this.markGeocode,this),this.on(`startgeocode`,this.addThrobberClass,this),this.on(`finishgeocode`,this.removeThrobberClass,this),this.on(`startsuggest`,this.addThrobberClass,this),this.on(`finishsuggest`,this.removeThrobberClass,this),P.disableClickPropagation(n),n}setQuery(e){return this._input.value=e,this}_geocodeResult(e,t){!t&&this.options.showUniqueResult&&e.length===1?this._geocodeResultSelected(e[0]):e.length>0?(this._alts.innerHTML=``,this._results=e,this._alts.classList.remove(`leaflet-control-geocoder-alternatives-minimized`),this._container.classList.add(`leaflet-control-geocoder-options-open`),this._results.forEach((e,t)=>this._alts.appendChild(this._createAlt(e,t)))):(this._container.classList.add(`leaflet-control-geocoder-options-error`),this._errorElement.classList.add(`leaflet-control-geocoder-error`))}markGeocode(e){let t=e.geocode;return this._map.fitBounds(t.bbox),this._geocodeMarker&&this._map.removeLayer(this._geocodeMarker),this._geocodeMarker=new It(t.center).bindPopup(t.html||t.name).addTo(this._map).openPopup(),this}async _geocode(e=!1){let t=this._input.value;if(!e&&t.length<this.options.queryMinLength)return;let n=++this._requestCount;this._lastGeocode=t,e||this._clearResults();let r={input:t};this.fire(e?`startsuggest`:`startgeocode`,r);let i={map:this._map},a=e?await this.options.geocoder.suggest(t,i):await this.options.geocoder.geocode(t,i);if(n===this._requestCount){let n={input:t,results:a};this.fire(e?`finishsuggest`:`finishgeocode`,n),this._geocodeResult(a,e)}}_geocodeResultSelected(e){let t={geocode:e};this.fire(`markgeocode`,t)}_toggle(){this._container.classList.contains(`leaflet-control-geocoder-expanded`)?this._collapse():this._expand()}_expand(){this._container.classList.add(`leaflet-control-geocoder-expanded`),this._input.select(),this.fire(`expand`)}_collapse(){this._container.classList.remove(`leaflet-control-geocoder-expanded`),this._alts.classList.add(`leaflet-control-geocoder-alternatives-minimized`),this._errorElement.classList.remove(`leaflet-control-geocoder-error`),this._container.classList.remove(`leaflet-control-geocoder-options-open`),this._container.classList.remove(`leaflet-control-geocoder-options-error`),this._input.blur(),this.fire(`collapse`)}_clearResults(){this._alts.classList.add(`leaflet-control-geocoder-alternatives-minimized`),this._selection=null,this._errorElement.classList.remove(`leaflet-control-geocoder-error`),this._container.classList.remove(`leaflet-control-geocoder-options-open`),this._container.classList.remove(`leaflet-control-geocoder-options-error`)}_createAlt(e,t){let n=E.create(`li`,``),r=E.create(`a`,``,n),i=this.options.showResultIcons&&e.icon?E.create(`img`,``,r):null,a=e.html?void 0:document.createTextNode(e.name),o=t=>{this._preventBlurCollapse=!0,P.stop(t),this._geocodeResultSelected(e),P.on(n,`click touchend`,()=>{this.options.collapsed?this._collapse():this._clearResults()})};return i&&(i.src=e.icon),n.setAttribute(`data-result-index`,String(t)),e.html?r.innerHTML+=e.html:a&&r.appendChild(a),P.on(n,`mousedown touchstart`,o,this),n}_keydown(e){let t=e=>{this._selection&&(this._selection.classList.remove(`leaflet-control-geocoder-selected`),this._selection=this._selection[e>0?`nextSibling`:`previousSibling`]),this._selection||=this._alts[e>0?`firstChild`:`lastChild`],this._selection&&this._selection.classList.add(`leaflet-control-geocoder-selected`)};switch(e.key){case`Escape`:this.options.collapsed?this._collapse():this._clearResults();break;case`ArrowUp`:t(-1);break;case`ArrowDown`:t(1);break;case`Enter`:if(this._selection){let e=parseInt(this._selection.getAttribute(`data-result-index`),10);this._geocodeResultSelected(this._results[e]),this._clearResults()}else this._geocode();break;default:return}P.preventDefault(e)}_change(){let e=this._input.value;e!==this._lastGeocode&&(clearTimeout(this._suggestTimeout),e.length>=this.options.suggestMinLength?this._suggestTimeout=setTimeout(()=>this._geocode(!0),this.options.suggestTimeout):this._clearResults())}};function _r(e){return new gr(e)}Object.assign(gr,mr),Object.assign(I,{Geocoder:gr,geocoder:_r});
/*!
Copyright (c) 2016 Dominik Moritz

This file is part of the leaflet locate control. It is licensed under the MIT license.
You can find the project at: https://github.com/domoritz/leaflet-locatecontrol
*/
const vr=It.extend({initialize(e,t){d.setOptions(this,t),this._latlng=e,this.createIcon()},createIcon(){let e=this.options,t=[[`stroke`,e.color],[`stroke-width`,e.weight],[`fill`,e.fillColor],[`fill-opacity`,e.fillOpacity],[`opacity`,e.opacity]].filter(([e,t])=>t!==void 0).map(([e,t])=>`${e}="${t}"`).join(` `),n=this._getIconSVG(e,t);this._locationIcon=new nn({className:n.className,html:n.svg,iconSize:[n.w,n.h]}),this.setIcon(this._locationIcon)},_getIconSVG(e,t){let n=e.radius,r=e.weight,i=n+r,a=i*2,o=`<svg xmlns="http://www.w3.org/2000/svg" width="${a}" height="${a}" version="1.1" viewBox="-${i} -${i} ${a} ${a}"><circle r="${n}" ${t} /></svg>`;return{className:`leaflet-control-locate-location`,svg:o,w:a,h:a}},setStyle(e){d.setOptions(this,e),this.createIcon()}}),yr=vr.extend({initialize(e,t,n){d.setOptions(this,n),this._latlng=e,this._heading=t,this.createIcon()},setHeading(e){this._heading=e},_getIconSVG(e,t){let n=e.radius,r=e.width+e.weight,i=(n+e.depth+e.weight)*2,a=`M0,0 l${e.width/2},${e.depth} l-${r},0 z`,o=`<svg xmlns="http://www.w3.org/2000/svg" width="${r}" height="${i}" version="1.1" viewBox="-${r/2} 0 ${r} ${i}" transform="rotate(${this._heading})"><path d="${a}" ${t} /></svg>`;return{className:`leaflet-control-locate-heading`,svg:o,w:r,h:i}}}),br=I.extend({options:{position:`topleft`,layer:void 0,setView:`untilPanOrZoom`,keepCurrentZoomLevel:!1,initialZoomLevel:!1,getLocationBounds(e){return e.bounds},flyTo:!1,clickBehavior:{inView:`stop`,outOfView:`setView`,inViewNotFollowing:`inView`},returnToPrevBounds:!1,cacheLocation:!0,drawCircle:!0,drawMarker:!0,showCompass:!0,markerClass:vr,compassClass:yr,circleStyle:{className:`leaflet-control-locate-circle`,color:`#136AEC`,fillColor:`#136AEC`,fillOpacity:.15,weight:0},markerStyle:{className:`leaflet-control-locate-marker`,color:`#fff`,fillColor:`#2A93EE`,fillOpacity:1,weight:3,opacity:1,radius:9},compassStyle:{fillColor:`#2A93EE`,fillOpacity:1,weight:0,color:`#fff`,opacity:1,radius:9,width:9,depth:6},followCircleStyle:{},followMarkerStyle:{},followCompassStyle:{},icon:`leaflet-control-locate-location-arrow`,iconLoading:`leaflet-control-locate-spinner`,iconElementTag:`span`,textElementTag:`small`,circlePadding:[0,0],metric:!0,createButtonCallback(e,t){let n=document.createElement(`a`);n.classList.add(`leaflet-bar-part`,`leaflet-bar-part-single`),n.title=t.strings.title,n.href=`#`,n.setAttribute(`role`,`button`);let r=document.createElement(t.iconElementTag);if(r.classList.add(...t.icon.split(` `)),n.appendChild(r),t.strings.text!==void 0){let e=document.createElement(t.textElementTag);e.classList.add(`leaflet-locate-text`),e.textContent=t.strings.text,n.appendChild(e),n.classList.add(`leaflet-locate-text-active`),n.parentNode.style.display=`flex`,t.icon.length>0&&r.classList.add(`leaflet-locate-icon`)}return e.appendChild(n),{link:n,icon:r}},onLocationError(e,t){alert(e.message)},onLocationOutsideMapBounds(e){e.stop(),alert(e.options.strings.outsideMapBoundsMsg)},showPopup:!0,strings:{title:`Show me where I am`,metersUnit:`meters`,feetUnit:`feet`,popup:`You are within {distance} {unit} from this point`,outsideMapBoundsMsg:`You seem located outside the boundaries of the map`},locateOptions:{maxZoom:1/0,watch:!0,setView:!1}},initialize(e){for(let t in e)typeof this.options[t]==`object`?Object.assign(this.options[t],e[t]):this.options[t]=e[t];this.options.followMarkerStyle={...this.options.markerStyle,...this.options.followMarkerStyle},this.options.followCircleStyle={...this.options.circleStyle,...this.options.followCircleStyle},this.options.followCompassStyle={...this.options.compassStyle,...this.options.followCompassStyle}},onAdd(e){let t=document.createElement(`div`);t.classList.add(`leaflet-control-locate`,`leaflet-bar`,`leaflet-control`),this._container=t,this._map=e,this._layer=this.options.layer||new Nt,this._layer.addTo(e),this._event=void 0,this._compassHeading=null,this._prevBounds=null;let n=this.options.createButtonCallback(t,this.options);return this._link=n.link,this._icon=n.icon,this._link.addEventListener(`click`,e=>{e.stopPropagation(),e.preventDefault(),this._onClick()}),this._link.addEventListener(`dblclick`,e=>e.stopPropagation()),this._resetVariables(),this._map.on(`unload`,this._unload,this),t},_onClick(){this._justClicked=!0;let e=this._isFollowing();if(this._userPanned=!1,this._userZoomed=!1,this._active&&!this._event)this.stop();else if(this._active){let t=this.options.clickBehavior,n=t.outOfView;switch(this._map.getBounds().contains(this._event.latlng)&&(n=e?t.inView:t.inViewNotFollowing),t[n]&&(n=t[n]),n){case`setView`:this.setView();break;case`stop`:if(this.stop(),this.options.returnToPrevBounds){let e=this.options.flyTo?this._map.flyToBounds:this._map.fitBounds;e.bind(this._map)(this._prevBounds)}break}}else this.options.returnToPrevBounds&&(this._prevBounds=this._map.getBounds()),this.start();this._updateContainerStyle()},start(){this._activate(),this._event&&(this._drawMarker(this._map),this.options.setView&&this.setView()),this._updateContainerStyle()},stop(){this._deactivate(),this._cleanClasses(),this._resetVariables(),this._removeMarker()},stopFollowing(){this._userPanned=!0,this._updateContainerStyle(),this._drawMarker()},_activate(){if(!(this._active||!this._map)&&(this._map.locate(this.options.locateOptions),this._map.fire(`locateactivate`,this),this._active=!0,this._map.on(`locationfound`,this._onLocationFound,this),this._map.on(`locationerror`,this._onLocationError,this),this._map.on(`dragstart`,this._onDrag,this),this._map.on(`zoomstart`,this._onZoom,this),this._map.on(`zoomend`,this._onZoomEnd,this),this.options.showCompass)){let e=`ondeviceorientationabsolute`in window;if(e||`ondeviceorientation`in window){let t=this,n=function(){P.on(window,e?`deviceorientationabsolute`:`deviceorientation`,t._onDeviceOrientation,t)};DeviceOrientationEvent&&typeof DeviceOrientationEvent.requestPermission==`function`?DeviceOrientationEvent.requestPermission().then(function(e){e===`granted`&&n()}):n()}}},_deactivate(){!this._active||!this._map||(this._map.stopLocate(),this._map.fire(`locatedeactivate`,this),this._active=!1,this.options.cacheLocation||(this._event=void 0),this._map.off(`locationfound`,this._onLocationFound,this),this._map.off(`locationerror`,this._onLocationError,this),this._map.off(`dragstart`,this._onDrag,this),this._map.off(`zoomstart`,this._onZoom,this),this._map.off(`zoomend`,this._onZoomEnd,this),this.options.showCompass&&(this._compassHeading=null,`ondeviceorientationabsolute`in window?P.off(window,`deviceorientationabsolute`,this._onDeviceOrientation,this):`ondeviceorientation`in window&&P.off(window,`deviceorientation`,this._onDeviceOrientation,this)))},setView(){if(this._drawMarker(),this._isOutsideMapBounds())this._event=void 0,this.options.onLocationOutsideMapBounds(this);else if(this._justClicked&&this.options.initialZoomLevel!==!1){let e=this.options.flyTo?this._map.flyTo:this._map.setView;e.bind(this._map)([this._event.latitude,this._event.longitude],this.options.initialZoomLevel)}else if(this.options.keepCurrentZoomLevel){let e=this.options.flyTo?this._map.flyTo:this._map.panTo;e.bind(this._map)([this._event.latitude,this._event.longitude])}else{let e=this.options.flyTo?this._map.flyToBounds:this._map.fitBounds;this._ignoreEvent=!0,e.bind(this._map)(this.options.getLocationBounds(this._event),{padding:this.options.circlePadding,maxZoom:this.options.initialZoomLevel||this.options.locateOptions.maxZoom}),d.requestAnimFrame(function(){this._ignoreEvent=!1},this)}},_drawCompass(){if(!this._event)return;let e=this._event.latlng;if(this.options.showCompass&&e&&this._compassHeading!==null){let t=this._isFollowing()?this.options.followCompassStyle:this.options.compassStyle;this._compass?(this._compass.setLatLng(e),this._compass.setHeading(this._compassHeading),this._compass.setStyle&&this._compass.setStyle(t)):this._compass=new this.options.compassClass(e,this._compassHeading,t).addTo(this._layer)}this._compass&&(!this.options.showCompass||this._compassHeading===null)&&(this._compass.removeFrom(this._layer),this._compass=null)},_drawMarker(){this._event.accuracy===void 0&&(this._event.accuracy=0);let e=this._event.accuracy,t=this._event.latlng;if(this.options.drawCircle){let n=this._isFollowing()?this.options.followCircleStyle:this.options.circleStyle;this._circle?this._circle.setLatLng(t).setRadius(e).setStyle(n):this._circle=new Rt(t,e,n).addTo(this._layer)}let n,r;if(this.options.metric?(n=e.toFixed(0),r=this.options.strings.metersUnit):(n=(e*3.2808399).toFixed(0),r=this.options.strings.feetUnit),this.options.drawMarker){let e=this._isFollowing()?this.options.followMarkerStyle:this.options.markerStyle;this._marker?(this._marker.setLatLng(t),this._marker.setStyle&&this._marker.setStyle(e)):this._marker=new this.options.markerClass(t,e).addTo(this._layer)}this._drawCompass();let i=this.options.strings.popup;function a(){return typeof i==`string`?d.template(i,{distance:n,unit:r}):typeof i==`function`?i({distance:n,unit:r}):i}this.options.showPopup&&i&&this._marker&&this._marker.bindPopup(a())._popup.setLatLng(t),this.options.showPopup&&i&&this._compass&&this._compass.bindPopup(a())._popup.setLatLng(t)},_removeMarker(){this._layer.clearLayers(),this._marker=void 0,this._circle=void 0},_unload(){this.stop(),this._map&&this._map.off(`unload`,this._unload,this)},_setCompassHeading(e){!isNaN(parseFloat(e))&&isFinite(e)?(e=Math.round(e),this._compassHeading=e,d.requestAnimFrame(this._drawCompass,this)):this._compassHeading=null},_onCompassNeedsCalibration(){this._setCompassHeading()},_onDeviceOrientation(e){this._active&&(e.webkitCompassHeading?this._setCompassHeading(e.webkitCompassHeading):e.absolute&&e.alpha&&this._setCompassHeading(360-e.alpha))},_onLocationError(e){e.code==3&&this.options.locateOptions.watch||(this.stop(),this.options.onLocationError(e,this))},_onLocationFound(e){if(!(this._event&&this._event.latlng.lat===e.latlng.lat&&this._event.latlng.lng===e.latlng.lng&&this._event.accuracy===e.accuracy)&&this._active){switch(this._event=e,this._drawMarker(),this._updateContainerStyle(),this.options.setView){case`once`:this._justClicked&&this.setView();break;case`untilPan`:this._userPanned||this.setView();break;case`untilPanOrZoom`:!this._userPanned&&!this._userZoomed&&this.setView();break;case`always`:this.setView();break}this._justClicked=!1}},_onDrag(){this._event&&!this._ignoreEvent&&(this._userPanned=!0,this._updateContainerStyle(),this._drawMarker())},_onZoom(){this._event&&!this._ignoreEvent&&(this._userZoomed=!0,this._updateContainerStyle(),this._drawMarker())},_onZoomEnd(){this._event&&this._drawCompass(),this._event&&!this._ignoreEvent&&this._marker&&!this._map.getBounds().pad(-.3).contains(this._marker.getLatLng())&&(this._userPanned=!0,this._updateContainerStyle(),this._drawMarker())},_isFollowing(){if(!this._active)return!1;if(this.options.setView===`always`)return!0;if(this.options.setView===`untilPan`)return!this._userPanned;if(this.options.setView===`untilPanOrZoom`)return!this._userPanned&&!this._userZoomed},_isOutsideMapBounds(){return this._event===void 0?!1:this._map.options.maxBounds&&!this._map.options.maxBounds.contains(this._event.latlng)},_updateContainerStyle(){this._container&&(this._active&&!this._event?this._setClasses(`requesting`):this._isFollowing()?this._setClasses(`following`):this._active?this._setClasses(`active`):this._cleanClasses())},_setClasses(e){e==`requesting`?(this._container.classList.remove(`active`,`following`),this._container.classList.add(`requesting`),this._icon.classList.remove(...this.options.icon.split(` `)),this._icon.classList.add(...this.options.iconLoading.split(` `))):e==`active`?(this._container.classList.remove(`requesting`,`following`),this._container.classList.add(`active`),this._icon.classList.remove(...this.options.iconLoading.split(` `)),this._icon.classList.add(...this.options.icon.split(` `))):e==`following`&&(this._container.classList.remove(`requesting`),this._container.classList.add(`active`,`following`),this._icon.classList.remove(...this.options.iconLoading.split(` `)),this._icon.classList.add(...this.options.icon.split(` `)))},_cleanClasses(){this._container.classList.remove(`requesting`,`active`,`following`),this._icon.classList.remove(...this.options.iconLoading.split(` `)),this._icon.classList.add(...this.options.icon.split(` `))},_resetVariables(){this._active=!1,this._justClicked=!1,this._userPanned=!1,this._userZoomed=!1}});var xr=class{constructor(e,t){this.map=null,this.options={},this.lastHash=null,this.movingMap=!1,this.changeDefer=100,this.changeTimeout=null,this.isListening=!1,this.onHashChange=this.onHashChange.bind(this),e&&this.init(e,t)}parseHash(e){e.indexOf(`#`)===0&&(e=e.substr(1));let t=e.split(`/`);if(t.length>=3){let e=parseInt(t[0],10),n=parseFloat(t[1]),r=parseFloat(t[2]),i=decodeURIComponent(t[3]||``).split(`,`);return isNaN(e)||isNaN(n)||isNaN(r)?!1:{center:new _(n,r),zoom:e,layers:i}}else return!1}formatHash(e){let t=e.getCenter(),n=e.getZoom(),r=Math.max(0,Math.ceil(Math.log(n)/Math.LN2)),i=[],a=this.options;return Object.keys(a).forEach(t=>{e.hasLayer(a[t])&&i.push(t)}),`#`+[n,t.lat.toFixed(r),t.lng.toFixed(r),i.join(`,`)].join(`/`)}init(e,t){this.map=e,d.setOptions(this,t),this.lastHash=null,this.onHashChange(),this.isListening||this.startListening()}removeFrom(){this.changeTimeout&&clearTimeout(this.changeTimeout),this.isListening&&this.stopListening(),this.map=null}onMapMove(){if(this.movingMap||!this.map._loaded)return!1;let e=this.formatHash(this.map);this.lastHash!=e&&(location.replace(e),this.lastHash=e)}update(){let e=location.hash;if(e===this.lastHash)return;let t=this.parseHash(e);if(t){this.movingMap=!0,this.map.setView(t.center,t.zoom);let e=t.layers,n=this.options;Array.isArray(e)&&e.every(e=>n[e])&&(this.map.eachLayer(e=>this.map.removeLayer(e)),e.forEach(e=>this.map.addLayer(n[e]))),this.movingMap=!1}else this.onMapMove()}onHashChange(){this.changeTimeout||=setTimeout(()=>{this.update(),this.changeTimeout=null},this.changeDefer)}startListening(){this.map.on(`moveend layeradd layerremove`,this.onMapMove,this),window.addEventListener(`hashchange`,this.onHashChange),this.isListening=!0}stopListening(){this.map.off(`moveend layeradd layerremove`,this.onMapMove,this),window.removeEventListener(`hashchange`,this.onHashChange),this.isListening=!1}},Sr=class extends L.Control.Layers{onAdd(e){L.Control.Layers.prototype.onAdd.call(this,e);let t=document.createElement(`div`);t.style.textAlign=`right`;let n=document.createElement(`div`);n.classList.add(`leaflet-bar`),n.style.cursor=`pointer`,n.style.display=`inline-block`;let r=document.createElement(`a`);return r.innerHTML=``,r.title=`Close`,r.style.fontSize=`150%`,r.style.height=`20px`,r.style.lineHeight=`1`,r.style.width=`20px`,r.onclick=()=>this.collapse(),n.append(r),t.append(n),this.getContainer().querySelector(`.leaflet-control-layers-list`).prepend(t),this.getContainer()}},Cr=`data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcYBeBeoQIhRAkLlRDGrhIgY3BJL8CVeKzuyXFzzjkn5ZxzzuScg3PO8cKzu70JkO0LfxdTU//pM9vTu7Xgf6KqOVTb9X7toRrVEfBf1HTVjZccrT/2by1VV928Yty9ZbVuucdz90frG8DBjl9pVApbOstvmMuvVgaNXSfAAd6pGxpy6yxf5ph43pS/4f3uoaGm2rdu72S9xzOvMymkZFq/ptDrk90mhW7e4zl7HLzhxGWPR20xmSxJ/VqldG5m9XhaVOA1DadsNh3Pu5L2N6QtPO/32JpqQBVVk20oy/Pi2s23WEvyfHbe1thadVQttvm7Llf65gGmXK67XtupyoM7HQhmXdLS8oGWJNeOJ3C5fG5XCEJnkez3/oFdsvgJ4l2ANZwhrJKk/7OSXa+3Vw2WJMlKnGkobouYk6T0TyX30klOUnTD9HJ5qpckL3EW/w4XF3Xd0FGywXUrstrclVsqz5Pd/sXFYyDnPdrLcQODmGOK47IZb4CmibmMn+MYRzFZ5jg33ZL/EJrWcszHmANy3ARBK/IXtciJy8VsitPSdE3uuHxzougojcUdr8/32atnz/ev3f/K5wtpxUTpcaI45zusVDpYtZi+jg0oU9b3x74h7+n9ABvYEZeKaVq0sh0AtLKsFtqNBdeT0MrSzwwlq9+x6xAO4tgOtSzbCjrNQQiNvQUbUEubvzBUeGw26yDCsRHCoLkTHDa7IdOLIThs/gHvChszh2CimE8peRs47cxANI0lYNB5y1DljpOF0IhzBDPOZnDOqYYbeGKECbPzWnXludPphw5c2YBq5zlwXphIbO4VDCZ0gnPfUO1TwZoYwAs2ExPCedAu9DAjfQUjzITQb3jNj0KG2Sgt6BHaQUdYzWz+XmBktOHwanXjaSTcwwziBcuMOtwBmqPrTOxFQR/DRKKPqyur0aiW6cULYsx6tBm0jXpR/AUWR6HRq9WVW6MRhIq5jLyjbaCTDCijyYJNpCajdyobP/eTw0iexBAKkJ3gA5KcQb2zBXsIBckn+xVv8jkZSaEFHE+jFEleAEfayRU0MouNoBmB/L50Ai/HSLIHxcrpCvnhSQAuakKp2C/YbCylJjXRVy/z3+Kv/RrNcCo+WUzlVEhzKffnTQnxeN9fWF88fiNCUdSTsaufaChKWInHeysygfpIqagoakW+vV20J8uyl6TyNKEZWV4oRSPyCkWpgOLSbkCObT8o2r6tlG58HQquf6O0v50tB7JM7F4EORd2dx/K0w/KHsVkLPaoYrwgP/y7krr3SSMA4zj+OBgmjYkxcdIJQyQRKgg2viX9Hddi9UBb29LrKR7CVVEEEXWojUkXNyfTNDE14W9gbHJNuhjDettN3ZvbOvdOqCD3Jp/9l+/wJE+9PkYGjx/fqkys3S2rMozM/o2106rfMUINo6hVqz+eu/hd1c4xTg0TAfy5kV+4UG6+IthHTU9woWmxuKNbTfuCSfovBCxq7EtHqvYL4Sm6F8GVxsSXHMQ07TOi1DKtZxjWaaIyi4CXWjxPccUw8WVbMYY5wxC1mzEyXMJWkllpRloi+Kkoq69sxBTlElF6aAxYUbjXNlhlDZilDnM4U5SlN5biRsRHnbx3mbeWjEh4mEyiuJDl5XcWVmX5GvNkFgLWZM5qwsop4/AWfLhU1cR7k1VVvcYCWRkOI6Xy5gmnphCYIkvzuNYzHzosq2oNk2RtSs8khfUOfHIDgR6ysYBaMpl4uEgk2U/oJTs9AaTSwma7dT69geAE2ZpEjUsn2ieJNHeKfrI3EcAGJ2ZaNgVuC8EBctCLc57P5u5led6IOBkIYkuQMrmmjChs4VkfOerHqSBkPzZlhe06RslZ3zMjk2sscqKwY0RcjKK+LWbzd7KiHhkncs/siFJ+V5eXxD34B8nVuJEpGJNmxN2gH3vSvp7J70tF+D1Ej8qUJD1TkErAND2GZwTFg/LubvmgiBG3SOvdlsqFQrkEzJCL1rstlnVFROixZoDDSuXQFHESwVGlcuQcMb/b42NgjLowh5MTDFE3vNB5qStRIErdCQEh6pLPR92anSUb/wAIhldAaDMpGgAAAABJRU5ErkJggg==`,wr=`data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=`,Tr=`data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC`;const Er=new F(`map`).setView([47.3,11.3],9);Er.attributionControl.setPrefix(!1);const Dr=window.matchMedia&&window.matchMedia(`all and (max-width: 700px)`).matches,Q=new Sr({},{},{collapsed:Dr}).addTo(Er);delete U.Default.prototype._getIconUrl,U.Default.mergeOptions({iconRetinaUrl:Cr,iconUrl:wr,shadowUrl:Tr}),new gr({position:`topleft`}).addTo(Er),new br({icon:`tm-marker`,iconLoading:`tm-marker`}).addTo(Er);const Or=[`<a href="https://github.com/simon04/tyrolean-map">Tyrolean Map</a> (Simon Legner)`,`<a href="https://www.tirol.gv.at/data/">data.tirol.gv.at</a>`,`<a href="https://www.tirol.gv.at/data/nutzungsbedingungen/">CC BY 3.0 AT</a>`],kr=[`<a href="https://github.com/simon04/tyrolean-map">Tyrolean Map</a> (Martin Raifer)`,`<a href="https://geoportal.buergernetz.bz.it/">geoportal.buergernetz.bz.it</a>`,`<a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a>`],Ar=[`<a href="https://github.com/simon04/tyrolean-map">Tyrolean Map</a> (Martin Raifer)`,`<a href="https://geoportal.buergernetz.bz.it/">geoportal.buergernetz.bz.it</a>`,`<a href="https://creativecommons.org/publicdomain/zero/1.0/deed">CC0</a>`],jr=`<a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> (ODbL)`,$={};[{id:`gdi_base_summer`,title:`Elektronische Karte Tirol: Sommer`},{id:`gdi_base_winter`,title:`Elektronische Karte Tirol: Winter`}].forEach(({id:e,title:t},n)=>{let r=`<a href="https://www.tirol.gv.at/statistik-budget/tiris/tiris-geodatendienste/impressum-elektronische-karte-tirol/">Elektronische Karte Tirol</a>`,i=new q(`https://wmts.kartetirol.at/wmts/${e}/${e}/{z}/{x}/{y}.jpeg80`,{maxZoom:18,attribution:[...Or,r,jr].join(`, `)});n===0&&i.addTo(Er),Q.addBaseLayer(i,t),$[e]=i}),[{id:`Image_Schummerung_Gelaendemodell`,title:`Gelnde Tirol: Gelndemodell`},{id:`Image_Schummerung_Oberflaechenmodell`,title:`Gelnde Tirol: Oberflchenmodell`}].forEach(({id:e,title:t})=>{let n=new q.WMS(`https://gis.tirol.gv.at/arcgis/services/Service_Public/terrain/MapServer/WMSServer`,{layers:e,format:`image/jpeg`,maxZoom:20,attribution:Or.join(`, `)});Q.addBaseLayer(n,t),$[e]=n}),[{id:`Image_1940`,title:`Orthofoto Tirol: 1940 (Innsbruck)`},{id:`Image_1949_1954`,title:`Orthofoto Tirol: 19491954 (Paznauntal)`},{id:`Image_1970_1982`,title:`Orthofoto Tirol: 19701982`},{id:`Image_1999_2004`,title:`Orthofoto Tirol: 19992004`},{id:`Image_2004_2009`,title:`Orthofoto Tirol: 20042009`},{id:`Image_2009_2012`,title:`Orthofoto Tirol: 20092012`},{id:`Image_2013_2015`,title:`Orthofoto Tirol: 20132015`},{id:`Image_2016_2018`,title:`Orthofoto Tirol: 20162018`},{id:`Image_2019_2021`,title:`Orthofoto Tirol: 20192021`},{id:`Image_Aktuell_RGB`,title:`Orthofoto Tirol: aktuell`},{id:`Image_Aktuell_CIR`,title:`Orthofoto Tirol: <abbr title="photographisches Infrarot">CIR</abbr> aktuell`}].forEach(({id:e,title:t})=>{let n=new q.WMS(`https://gis.tirol.gv.at/arcgis/services/Service_Public/orthofoto/MapServer/WMSServer`,{layers:e,format:`image/jpeg`,maxZoom:20,attribution:Or.join(`, `)});Q.addBaseLayer(n,t),$[e]=n}),[{id:`geolandbasemap/normal`,title:`basemap.at`,format:`png`},{id:`bmaphidpi/normal`,title:`basemap.at HiDPI`,format:`jpeg`},{id:`bmapgrau/normal`,title:`basemap.at Grau`,format:`png`},{id:`bmaporthofoto30cm/normal`,title:`basemap.at Orthofoto`,format:`jpg`},{id:`bmapgelaende/grau`,title:`basemap.at Gelnde`,format:`jpg`}].forEach(({id:e,title:t,format:n})=>{let r=new q(`https://mapsneu.wien.gv.at/basemap/${e}/google3857/{z}/{y}/{x}.${n}`,{subdomains:`1234`,maxZoom:19,attribution:[`Grundkarte: <a href="https://www.basemap.at/">basemap.at</a>`,`<a href="https://creativecommons.org/licenses/by/4.0/deed.de">CC BY 4.0</a>`].join(`, `)});Q.addBaseLayer(r,t),$[e]=r}),[{id:`p_bz-BaseMap%3ABasemap-Standard`,title:`South Tyrol Base Map`}].forEach(({id:e,title:t})=>{let n=new q(`https://geoservices.buergernetz.bz.it/geoserver/gwc/service/wmts/?SERVICE=WMTS&REQUEST=GetTile&VERSION=1.0.0&LAYER=${e}&STYLE=default&TILEMATRIXSET=GoogleMapsCompatible&TILEMATRIX=GoogleMapsCompatible%3A{z}&TILEROW={y}&TILECOL={x}&FORMAT=image%2Fjpeg`,{maxZoom:20,attribution:[...kr,jr].join(`, `)});Q.addBaseLayer(n,t),$[e]=n}),[{id:`DigitalTerrainModel-0.5m-Hillshade`,title:`Gelnde South Tyrol: Gelndemodell 0.5m`},{id:`DigitalTerrainModel-2.5m-Hillshade`,title:`Gelnde South Tyrol: Gelndemodell`},{id:`DigitalTerrainModel-2.5m-Exposition`,title:`Gelnde South Tyrol: Exposition`},{id:`DigitalTerrainModel-2.5m-Slope`,title:`Gelnde South Tyrol: Gelndeneigung`}].forEach(({id:e,title:t})=>{let n=new q.WMS(`https://geoservices1.civis.bz.it/geoserver/p_bz-Elevation/wms`,{layers:e,format:`image/jpeg`,attribution:Ar.join(`, `)});Q.addBaseLayer(n,t),$[e]=n}),[{id:`Aerial-1982-1985-BW`,title:`Orthofoto South Tyrol: 19821985`},{id:`Aerial-1992-1997-BW`,title:`Orthofoto South Tyrol: 19921997`},{id:`Aerial-1999-RGB`,title:`Orthofoto South Tyrol: 1999`},{id:`Aerial-2003-BW`,title:`Orthofoto South Tyrol: 2003`},{id:`Aerial-2006-RGB`,title:`Orthofoto South Tyrol: 2006`},{id:`Aerial-2011-AgEA-RGB`,title:`Orthofoto South Tyrol: 2011`},{id:`Aerial-2011-AgEA-CIR`,title:`Orthofoto South Tyrol: 2011 <abbr title="photographisches Infrarot">CIR</abbr>`},{id:`Aerial-2014-RGB`,title:`Orthofoto South Tyrol: 2014`},{id:`Aerial-2017-RGB`,title:`Orthofoto South Tyrol: 2017`},{id:`Aerial-2020-RGB`,title:`Orthofoto South Tyrol: 2020`},{id:`Aerial-2023-RGB`,title:`Orthofoto South Tyrol: 2023`},{id:`Aerial-2023-CIR`,title:`Orthofoto South Tyrol: 2023 <abbr title="photographisches Infrarot">CIR</abbr>`}].forEach(({id:e,title:t})=>{let n=new q.WMS(`https://geoservices.buergernetz.bz.it/mapproxy/p_bz-Orthoimagery/wms`,{layers:e,format:`image/jpeg`,maxZoom:20,attribution:kr.join(`, `)});Q.addBaseLayer(n,t),$[e]=n}),$.OSM=new q(`https://tile.openstreetmap.org/{z}/{x}/{y}.png`,{maxZoom:19,attribution:jr}),Q.addBaseLayer($.OSM,`OpenStreetMap`),$.OpenTopoMap=new q(`https://tile.opentopomap.org/{z}/{x}/{y}.png`,{maxZoom:19,attribution:[jr,`<a href="http://viewfinderpanoramas.org">SRTM</a>`,`Kartendarstellung: &copy; <a href="https://opentopomap.org">OpenTopoMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)`].join(`, `)}),Q.addBaseLayer($.OpenTopoMap,`OpenTopoMap`),[{id:`Image_Exposition`,title:`Gelnde Tirol: Exposition`},{id:`Image_Gelaendeneigung_Grad`,title:`Gelnde Tirol: Gelndeneigung`}].forEach(({id:e,title:t})=>{let n=new q.WMS(`https://gis.tirol.gv.at/arcgis/services/Service_Public/terrain/MapServer/WMSServer`,{layers:e,format:`image/jpeg`,maxZoom:20,attribution:[...Or,`<img src="https://gis.tirol.gv.at/arcgis/services/Service_Public/terrain/MapServer/WMSServer?request=GetLegendGraphic%26version=1.3.0%26format=image/png%26layer=${e}">`].join(`, `)});Q.addOverlay(n,t),$[e]=n}),$.OpenSlopeMap=new q(`https://tileserver{s}.openslopemap.org/OSloOVERLAY_LR_All_16/{z}/{x}/{y}.png`,{opacity:.7,subdomains:`1234`,attribution:`<a href="https://www.openslopemap.org/projekt/lizenzen/">OpenSlopeMap</a> (<a href="https://creativecommons.org/licenses/by-sa/4.0/">CC-BY-SA</a>)<div class="legend"><i style="color:#FFFFFF"></i> 09, <i style="color:#00FF00"></i> 1029, <i style="color:#F0E100"></i> 3034, <i style="color:#FF9B00"></i> 3539, <i style="color:#FF0000"></i> 4042, <i style="color:#FF26FF"></i> 4345, <i style="color:#A719FF"></i> 4649, <i style="color:#6E00FF"></i> 5054, <i style="color:#0000FF"></i> 5590</div>`}),Q.addOverlay($.OpenSlopeMap,`OpenSlopeMap`),new xr(Er,$);